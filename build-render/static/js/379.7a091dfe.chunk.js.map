{"version":3,"file":"static/js/379.7a091dfe.chunk.js","mappings":"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","sources":["pages/NotFound/index.tsx","stores/appStore.types.ts","stores/AppStore.ts","pages/Canvas/ItemTypes.ts","pages/Canvas/schema/preview/index.tsx","pages/Canvas/utils.ts","pages/Canvas/CenterCanvas/Child.tsx","pages/Canvas/CenterCanvas/index.tsx","utils/index.ts","pages/Canvas/index.store.ts","pages/Canvas/index.tsx","utils/common.ts","services/$axios.config.ts","utils/auth.ts","services/$axios.ts","pages/Preview/PageComp.tsx","pages/Preview/index.tsx","services/project.ts","App.tsx","reportWebVitals.ts","bootstrap.tsx"],"sourcesContent":["function NotFound() {\r\n  return <div>404 Not</div>;\r\n}\r\n\r\nexport default NotFound;\r\n","import { types } from \"mobx-state-tree\";\r\n\r\nexport const USER_INFO = types.model({\r\n  name: types.optional(types.string, \"用户名\"),\r\n});\r\n","import { types } from \"mobx-state-tree\";\r\nimport { USER_INFO } from \"./appStore.types\";\r\n\r\nexport const AppStore = types\r\n  .model(\"AppStore\", {\r\n    userInfo: USER_INFO,\r\n  })\r\n  .volatile(() => ({}))\r\n  .views((self: any) => ({\r\n    // 判断是否是运营\r\n    get getIsOperate() {\r\n      return self.userInfo?.bizRoles?.includes(2);\r\n    },\r\n  }))\r\n  .actions((self: any) => ({\r\n    setOpenKeys(data: any[]) {\r\n      self.openKeys = data;\r\n    },\r\n    afterCreate() {\r\n      // console.log(\"appStore afterCreate\");\r\n    },\r\n    beforeDestroy() {\r\n      // console.log(\"appStore beforeDestroy\");\r\n    },\r\n  }));\r\n","export const CARD = \"CARD\";\r\n","import _previewData from \"remote/preview\";\r\nimport { PreviewFieldInterface } from \"s-low-components\";\r\n\r\nconst previewData = {\r\n  ...(_previewData as PreviewFieldInterface),\r\n};\r\n\r\nexport default previewData;\r\n","// 组件是否支持嵌套\r\nfunction canNesting(type: string) {\r\n  return [\"div\"].indexOf(type) > -1;\r\n}\r\n\r\nexport { canNesting };\r\n","import React, { useRef, useState } from \"react\";\r\nimport { FieldNodeSchema } from \"../types\";\r\nimport { useDrop, useDrag } from \"react-dnd\";\r\nimport { CARD } from \"../ItemTypes\";\r\nimport previewData from \"../schema/preview\";\r\nimport cl from \"classnames\";\r\nimport { canNesting } from \"../utils\";\r\n\r\ninterface Props {\r\n  id?: string;\r\n  parentId: string;\r\n  data: FieldNodeSchema;\r\n  index: number;\r\n  selectId: string;\r\n  edit?: any;\r\n}\r\n\r\nfunction Child(props: Props) {\r\n  const { id, parentId, data, index, selectId, edit } = props;\r\n  const [positionDown, setPositionDown] = useState(false);\r\n\r\n  const ref = useRef<HTMLDivElement | null>(null);\r\n\r\n  const CurrentNode = previewData[data.type];\r\n\r\n  const [{ isOver, canDrop, isOverCurrent }, drop] = useDrop(\r\n    () => ({\r\n      accept: CARD,\r\n      drop(_item: any, monitor) {\r\n        const didDrop = monitor.didDrop();\r\n        if (didDrop) return;\r\n\r\n        // 没有id是新增 反之是移动\r\n        if (!_item.data.id) {\r\n          edit.appendCom({\r\n            item: _item.data,\r\n            data,\r\n            parentId,\r\n            hoverIndex: index,\r\n            positionDown,\r\n          });\r\n        } else {\r\n          edit.moveCom({\r\n            dragParentId: _item.parentId,\r\n            item: _item.data,\r\n            data,\r\n            parentId,\r\n            hoverIndex: index,\r\n            dragIndex: _item.index,\r\n            positionDown,\r\n          });\r\n        }\r\n      },\r\n      collect: (monitor) => ({\r\n        isOver: monitor.isOver(),\r\n        canDrop: monitor.canDrop(),\r\n        isOverCurrent: monitor.isOver({ shallow: true }),\r\n      }),\r\n      hover: (item, monitor) => {\r\n        // 只判断hover最小的组件\r\n        const isHoverCurrent = monitor.isOver({ shallow: true });\r\n        if (isHoverCurrent && ref.current) {\r\n          const hoverBoundingRect = ref.current.getBoundingClientRect();\r\n          // 获取hover组件的高度的一半\r\n          const hoverMiddleY =\r\n            (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\r\n          const clientOffset = monitor.getClientOffset(); // 鼠标的位置\r\n          if (clientOffset) {\r\n            const hoverClentY = clientOffset.y - hoverBoundingRect.top; // 鼠标唯一hover组件的纵向位置\r\n\r\n            setPositionDown(hoverClentY >= hoverMiddleY); // 判断鼠标是位于组件的上半部还是下半部\r\n          }\r\n        }\r\n      },\r\n    }),\r\n    [data, parentId, index, positionDown, edit]\r\n  );\r\n\r\n  const [, drag] = useDrag(() => {\r\n    return {\r\n      type: CARD,\r\n      item: { data, parentId, index },\r\n      collect: (monitor) => ({\r\n        isDragging: monitor.isDragging(),\r\n      }),\r\n    };\r\n  }, [index, parentId, data]);\r\n\r\n  const selected = data.id === selectId;\r\n\r\n  drop(drag(ref));\r\n\r\n  function setSelectId(e: any) {\r\n    e.stopPropagation();\r\n    edit.setSelectId(data.id);\r\n  }\r\n\r\n  return (\r\n    <div ref={ref} onClick={setSelectId} id={id} className=\"relative\">\r\n      {/* 选中border */}\r\n      <div\r\n        className={cl(\"absolute w-full h-full\", {\r\n          \"border border-primary\": selected,\r\n          \"border border-primary border-dashed\": isOverCurrent,\r\n        })}\r\n      ></div>\r\n      {/* hover border */}\r\n      <div\r\n        className={\r\n          \"absolute w-full h-full hover:border hover:border-primary hover:border-dashed\"\r\n        }\r\n      ></div>\r\n      <CurrentNode {...data.props}>\r\n        {!canNesting(data.type)\r\n          ? data.props.children\r\n          : data.children.map((curField, _i) => (\r\n              <Child\r\n                key={curField.id}\r\n                data={curField}\r\n                parentId={data.id}\r\n                index={_i}\r\n                edit={edit}\r\n                selectId={selectId}\r\n              />\r\n            ))}\r\n      </CurrentNode>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Child;\r\n","import React, { useEffect, useLayoutEffect } from \"react\";\r\nimport { inject, observer } from \"mobx-react\";\r\nimport Child from \"./Child\";\r\n\r\nfunction CenterCanvas({ edit }: any) {\r\n  // !!!不能删除 用于刷新组件\r\n  const { refreshId, append, selectId, setCodeTree } = edit;\r\n\r\n  useEffect(() => {\r\n    // 统一接收平台信息，调用对应方法处理\r\n    window.addEventListener(\"message\", getMessage);\r\n\r\n    // 主动告知父元素已经开始监听 可以执行同步了\r\n    window.parent.postMessage(\r\n      {\r\n        type: \"preview-init-success\",\r\n      },\r\n      \"*\"\r\n    );\r\n    return () => {\r\n      window.removeEventListener(\"message\", getMessage);\r\n    };\r\n  }, []);\r\n\r\n  useLayoutEffect(() => {\r\n    if (edit.codeTree) {\r\n      // eslint-disable-next-line array-callback-return\r\n      if (edit.codeTree.children.length) {\r\n        edit.codeTree.children.map((child: any) => {\r\n          const height = document.getElementById(child.id)?.offsetHeight;\r\n          child.height = height;\r\n        });\r\n\r\n        window.parent.postMessage(\r\n          {\r\n            type: \"updateCodeTree\",\r\n            params: edit.codeTree,\r\n          },\r\n          \"*\"\r\n        );\r\n      }\r\n    }\r\n  }, [edit.codeTree, edit.codeTree.refreshId]);\r\n\r\n  useEffect(() => {\r\n    selectId &&\r\n      window.parent.postMessage(\r\n        {\r\n          type: \"selectId\",\r\n          params: selectId,\r\n        },\r\n        \"*\"\r\n      );\r\n  }, [selectId]);\r\n\r\n  function getMessage(e: any) {\r\n    if (e.source !== window.parent) return;\r\n\r\n    if (e.data) {\r\n      let { even, params } = e.data;\r\n\r\n      if (even === \"move\") moveWaiting(params);\r\n      if (even === \"updateCodeTree\") updateCodeTree(params);\r\n    }\r\n  }\r\n\r\n  function moveWaiting(params: any) {\r\n    append(params.data);\r\n  }\r\n\r\n  function updateCodeTree(params: any) {\r\n    setCodeTree(params);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {edit.codeTree.children.map((code: any, index: number) => (\r\n        <Child\r\n          key={code.id}\r\n          id={code.id}\r\n          data={code}\r\n          parentId={edit.codeTree.id}\r\n          index={index}\r\n          edit={edit}\r\n          selectId={edit.selectId}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default inject(\"edit\")(observer(CenterCanvas));\r\n","// 深度优先遍历\r\nfunction dfs<T extends { children?: T[] }>(data: T, fn: (param: T) => boolean) {\r\n  if (fn(data) === false) return false;\r\n\r\n  if (Array.isArray(data?.children)) {\r\n    for (let i = data.children.length - 1; i >= 0; i--) {\r\n      if (!dfs(data.children[i], fn)) return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\n// 广度优先遍历\r\nfunction bfs<T extends { children?: T[] }>(data: T, fn: (param: T) => boolean) {\r\n  if (Array.isArray(data?.children)) {\r\n    for (let i = data.children.length - 1; i >= 0; i--) {\r\n      if (!dfs(data.children[i], fn)) return false;\r\n    }\r\n  }\r\n\r\n  if (fn(data) === false) return false;\r\n\r\n  return true;\r\n}\r\n\r\nexport { dfs, bfs };\r\n","import { types } from \"mobx-state-tree\";\r\nimport { FieldNode } from \"./types\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport { dfs } from \"@/utils\";\r\nimport { canNesting } from \"./utils\";\r\nimport { cloneDeep } from \"lodash-es\";\r\n\r\nexport interface FieldNodeSchema extends FieldNode {\r\n  id: string;\r\n  children: FieldNodeSchema[];\r\n}\r\n\r\nexport interface State extends Omit<FieldNodeSchema, \"type\"> {\r\n  refreshId: number;\r\n  focusId?: string;\r\n}\r\n\r\nconst initialValue: State = {\r\n  id: \"root\",\r\n  props: {},\r\n  children: [],\r\n  refreshId: 0,\r\n};\r\n\r\nexport const EditStore = types\r\n  .model(\"EditStore\", {\r\n    refreshId: types.optional(types.number, 0),\r\n  })\r\n  .volatile(() => ({\r\n    codeTree: initialValue,\r\n    selectId: \"\",\r\n    selectedComp: null,\r\n  }))\r\n  .views((self: any) => ({\r\n    get rootCode() {\r\n      return self.codeTree;\r\n    },\r\n  }))\r\n  .actions((self: any) => ({\r\n    setCodeTree(code: any) {\r\n      self.codeTree = code;\r\n    },\r\n    refresh() {\r\n      self.refreshId += 1;\r\n    },\r\n    refreshCodeTree() {\r\n      self.codeTree.refreshId += 1;\r\n    },\r\n    setSelectId(id: string) {\r\n      self.selectId = id;\r\n    },\r\n    // 根级新增\r\n    append(data: FieldNode) {\r\n      const id = uuid();\r\n      self.codeTree = {\r\n        ...self.codeTree,\r\n        children: [\r\n          ...self.codeTree.children,\r\n          {\r\n            ...cloneDeep(data),\r\n            id,\r\n            children: [],\r\n          },\r\n        ],\r\n      };\r\n\r\n      if (self.codeTree.children.length === 1) {\r\n        self.setSelectId(self.codeTree.children[0].id);\r\n      }\r\n    },\r\n    /**\r\n     * 新增到组件内部\r\n     */\r\n    appendCom({\r\n      item, // 拖拽的数据\r\n      data, // hover的数据\r\n      parentId, // hover父级id\r\n      hoverIndex, // hover索引\r\n      positionDown, // 鼠标在hover组件上半部还是下半部\r\n    }: {\r\n      item: FieldNode;\r\n      data: FieldNodeSchema;\r\n      parentId: string;\r\n      hoverIndex: number;\r\n      positionDown: boolean;\r\n    }) {\r\n      const id = uuid();\r\n\r\n      dfs(self.codeTree, (curField: FieldNodeSchema) => {\r\n        // 不是嵌套组件 就把新增组件放在父组件里(data的同级)\r\n        if (!canNesting(data.type) && curField.id === parentId) {\r\n          // 通过positionDown判断是放在data上还是下\r\n          if (positionDown) {\r\n            // !!!这里要注意 children不能覆盖item的, id必须要覆盖item的\r\n            curField.children.splice(hoverIndex + 1, 0, {\r\n              children: [],\r\n              ...cloneDeep(item),\r\n              id,\r\n            });\r\n          } else {\r\n            curField.children.splice(hoverIndex, 0, {\r\n              children: [],\r\n              ...cloneDeep(item),\r\n              id,\r\n            });\r\n          }\r\n\r\n          return false; // 停止dfs\r\n        }\r\n\r\n        // 是嵌套组件 将新组件放入data中\r\n        if (canNesting(data.type) && curField.id === data.id) {\r\n          curField.children.push({\r\n            children: [],\r\n            ...cloneDeep(item),\r\n            id,\r\n          });\r\n\r\n          return false;\r\n        }\r\n\r\n        return true;\r\n      });\r\n\r\n      self.selectId = id;\r\n      self.refreshCodeTree();\r\n    },\r\n    // 移动组件\r\n    moveCom({\r\n      dragParentId, // 拖拽组件的父级id\r\n      item: dragData, // 拖拽组件\r\n      data: hoverData, // hover组件\r\n      parentId, // hover组件父级id\r\n      hoverIndex, // hover组件索引\r\n      dragIndex, // 拖拽组件索引\r\n      positionDown, // 鼠标在hover组件上半部还是下半部\r\n    }: {\r\n      dragParentId: string;\r\n      item: FieldNodeSchema;\r\n      data: FieldNodeSchema;\r\n      parentId: string;\r\n      hoverIndex: number;\r\n      dragIndex: number;\r\n      positionDown: boolean;\r\n    }) {\r\n      if (hoverData.id === dragData.id) return; // 自己套自己 不动\r\n\r\n      let hoverInDragChild = false;\r\n\r\n      // 判断拖拽组件是不是拖拽进自己内部, 如果是不处理\r\n      dfs(dragData, (curField: FieldNodeSchema) => {\r\n        if (curField.id === hoverData.id) {\r\n          hoverInDragChild = true;\r\n          return false;\r\n        }\r\n\r\n        return true;\r\n      });\r\n\r\n      if (hoverInDragChild) return;\r\n\r\n      // 删除拖拽组件原位置\r\n      dfs(self.codeTree, (curField: FieldNodeSchema) => {\r\n        if (curField.id === dragParentId) {\r\n          curField.children.splice(dragIndex, 1);\r\n          return false;\r\n        }\r\n\r\n        return true;\r\n      });\r\n\r\n      // 新增组件到拖拽后的位置\r\n      self.appendCom({\r\n        item: dragData,\r\n        data: hoverData,\r\n        parentId,\r\n        hoverIndex,\r\n        positionDown,\r\n      });\r\n    },\r\n    moveRowRoot(dragIndex: number, dropIndex: number) {\r\n      const list = self.codeTree.children;\r\n      const s = list.splice(dragIndex, 1)[0];\r\n      list.splice(dropIndex, 0, s);\r\n      self.codeTree.children = [...list];\r\n    },\r\n    removeCom(parentId: string, hoverIndex: number) {\r\n      dfs(self.codeTree, (curField: FieldNodeSchema) => {\r\n        if (curField.id === parentId) {\r\n          curField.children.splice(hoverIndex, 1);\r\n\r\n          return false;\r\n        }\r\n        return true;\r\n      });\r\n\r\n      self.refresh();\r\n    },\r\n    updateSelected({ key, value }: { key: string; value: any }) {\r\n      dfs(self.codeTree, (curField: FieldNodeSchema) => {\r\n        if (curField.id === self.selectId) {\r\n          curField.props[key] = value;\r\n          return false;\r\n        }\r\n        return true;\r\n      });\r\n      self.refresh();\r\n    },\r\n    afterCreate() {\r\n      // console.log(\"EditStore afterCreate\");\r\n    },\r\n    beforeDestroy() {\r\n      // console.log(\"EditStore beforeDestroy\");\r\n    },\r\n  }));\r\n","import React, { useEffect } from \"react\";\r\nimport CenterCanvas from \"./CenterCanvas\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { EditStore } from \"./index.store\";\r\nimport { Provider } from \"mobx-react\";\r\n\r\nconst editStore = EditStore.create();\r\n\r\nfunction Canvas() {\r\n  return (\r\n    <DndProvider backend={HTML5Backend}>\r\n      <Provider edit={editStore}>\r\n        <CenterCanvas />\r\n      </Provider>\r\n    </DndProvider>\r\n  );\r\n}\r\n\r\nexport default Canvas;\r\n","export function trimObjectValues(params: any) {\r\n  params instanceof Object &&\r\n    Object.keys(params).forEach((key) => {\r\n      if (typeof params[key] === \"string\") {\r\n        params[key] = params[key].trim();\r\n      }\r\n    });\r\n}\r\n\r\nexport function initListId(list: any[], regStrs?: string[], key = \"id\") {\r\n  return list.map((item, index) => ({\r\n    ...item,\r\n    [key]: Array.isArray(regStrs)\r\n      ? regStrs.reduce(\r\n          (idStr: string, key: string) => idStr + (item[key] || key),\r\n          \"\"\r\n        )\r\n      : index + 1,\r\n  }));\r\n}\r\n\r\nexport function initListIndex(\r\n  list: any[],\r\n  regStrs?: string[],\r\n  key: string = \"id\"\r\n) {\r\n  return list.map((item, index) => ({\r\n    ...item,\r\n    [key]: Array.isArray(regStrs)\r\n      ? regStrs.reduce(\r\n          (idStr: string, key: string) => idStr + (item[key] || key),\r\n          \"\"\r\n        )\r\n      : index,\r\n  }));\r\n}\r\n\r\nexport function initListIdWithPagination(list: any[], pagination: any) {\r\n  const { pageNum, pageSize } = pagination;\r\n  return list.map((item, index) => ({\r\n    id: (pageNum - 1) * pageSize + index + 1,\r\n    ...item,\r\n  }));\r\n}\r\n\r\nexport function initListIdWithChannelType(list: any[]) {\r\n  return list.map((item) => ({\r\n    id: item.channelTypeId + item.itemId,\r\n    ...item,\r\n  }));\r\n}\r\n\r\nexport function queryParams() {\r\n  let search = window.location.search;\r\n  search = search[0] === \"?\" ? search.substring(1) : search;\r\n  const query = search.split(\"&\");\r\n\r\n  return query.reduce((obj: any, item: string) => {\r\n    const [key, value] = item.split(\"=\");\r\n    obj[key] = value;\r\n    return obj;\r\n  }, {});\r\n}\r\n\r\nexport function deleteEmptyProperty(params: any) {\r\n  params instanceof Object &&\r\n    Object.keys(params).forEach((key) => {\r\n      const value = params[key];\r\n      if (\r\n        value === undefined ||\r\n        value === null ||\r\n        (typeof value === \"string\" && value.trim() === \"\")\r\n      ) {\r\n        delete params[key];\r\n      }\r\n    });\r\n}\r\n\r\nexport function deleteEmptyPropertyFromArray(list: any[]) {\r\n  if (!Array.isArray(list)) return;\r\n  list.forEach((v: any) => {\r\n    deleteEmptyProperty(v);\r\n  });\r\n}\r\n\r\n// 清空缓存\r\nexport function clearLocalStorage() {\r\n  localStorage.clear();\r\n}\r\n","import { deleteEmptyProperty, trimObjectValues } from '@/utils/common';\r\n\r\nexport const trimRequestInterceptors: [any, any] = [\r\n  (config: any) => {\r\n    if (config.method === 'get') {\r\n      trimObjectValues(config.params);\r\n      deleteEmptyProperty(config.params);\r\n    } else if (config.method === 'post') {\r\n      trimObjectValues(config.data);\r\n      deleteEmptyProperty(config.data);\r\n    }\r\n    return config;\r\n  },\r\n  (error: any) => {\r\n    return Promise.reject(error);\r\n  },\r\n];\r\n","const SLOW_AUTH_TOKEN = \"SLOW_AUTH_TOKEN\";\r\nconst SLOW_USER = \"SLOW_USER\";\r\n\r\nexport function setToken(token: string) {\r\n  localStorage.setItem(SLOW_AUTH_TOKEN, token);\r\n}\r\n\r\nexport function getToken() {\r\n  return localStorage.getItem(SLOW_AUTH_TOKEN);\r\n}\r\n\r\nexport function removeToken() {\r\n  return localStorage.removeItem(SLOW_AUTH_TOKEN);\r\n}\r\n\r\nexport function getUserStorage() {\r\n  return JSON.parse(localStorage.getItem(SLOW_USER) || \"null\");\r\n}\r\n\r\nexport function removeUserStorage() {\r\n  return localStorage.removeItem(SLOW_USER);\r\n}\r\n\r\nexport function removeAuthStorage() {\r\n  removeToken();\r\n  removeUserStorage();\r\n}\r\n","import axios, { AxiosRequestConfig } from \"axios\";\r\nimport { notification } from \"antd\";\r\nimport { trimRequestInterceptors } from \"./$axios.config\";\r\nimport { getToken, removeAuthStorage } from \"@/utils/auth\";\r\n\r\nconst config: AxiosRequestConfig = {\r\n  timeout: 5 * 1000, // 超时设置(单位毫秒)，无超时时间设置为 0。\r\n  responseType: \"json\", // 响应的数据格式：json/blob/document/arraybuffer/text/stream\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n  baseURL: `${process.env.REACT_APP_BASE_URL}/api/v1`,\r\n};\r\n\r\nconst $axios = axios.create(config);\r\n\r\n$axios.interceptors.request.use(...trimRequestInterceptors);\r\n\r\n$axios.interceptors.request.use(\r\n  (config) => {\r\n    const token = getToken();\r\n\r\n    (config.headers as any).Authorization = \"Bearer \" + token;\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n$axios.interceptors.response.use(\r\n  (res) => {\r\n    if (res.data?.code !== 200) {\r\n      res.data.message &&\r\n        notification.error({\r\n          message: res.data.message,\r\n        });\r\n      return Promise.reject(res.data.message);\r\n    }\r\n\r\n    return res.data?.data;\r\n  },\r\n  (error) => {\r\n    if (error?.response?.status === 401) {\r\n      removeAuthStorage();\r\n      window.location.replace(\"/login\");\r\n\r\n      return Promise.reject(error);\r\n    }\r\n    const resData = error?.response.data;\r\n    if (resData) {\r\n      resData.message &&\r\n        notification.error({\r\n          key: resData.message,\r\n          message: resData.message,\r\n        });\r\n    }\r\n\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default $axios;\r\n","import React, { FC } from \"react\";\r\nimport previewData from \"../Canvas/schema/preview\";\r\nimport { FieldNodeSchema } from \"../Canvas/types\";\r\nimport { canNesting } from \"../Canvas/utils\";\r\n\r\ninterface Props {\r\n  data: FieldNodeSchema;\r\n}\r\n\r\nconst PageComp: FC<Props> = ({ data }) => {\r\n  const CurrentNode = previewData[data.type];\r\n  return (\r\n    <CurrentNode {...data.props}>\r\n      {!canNesting(data.type)\r\n        ? data.props.children\r\n        : data.children.map((curField: any) => (\r\n            <PageComp key={curField.id} data={curField} />\r\n          ))}\r\n    </CurrentNode>\r\n  );\r\n};\r\n\r\nexport default PageComp;\r\n","import { getProject } from \"@/services/project\";\r\nimport React, { FC, useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport PageComp from \"./PageComp\";\r\n\r\ninterface Props {}\r\n\r\nconst Preview: FC<Props> = () => {\r\n  const { id } = useParams();\r\n\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      getProject(id).then((res: any) => {\r\n        setData(JSON.parse(res.code));\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      {Array.isArray(data) &&\r\n        data.map((comp: any) => <PageComp key={comp.id} data={comp} />)}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preview;\r\n","import $axios from \"./$axios\";\r\nimport {\r\n  DELETE_PROJECT_DTO,\r\n  GET_PROJECT_DTO,\r\n  PROJECT_CODE_DTO,\r\n  PROJECT_DTO,\r\n} from \"./types/project\";\r\n\r\nexport function getProjectList(params: GET_PROJECT_DTO[\"PARAMS\"]) {\r\n  return $axios.get(\"/project\", { params });\r\n}\r\n\r\nexport function getProject(id: string | number) {\r\n  return $axios.get(`/project/${id}`);\r\n}\r\n\r\nexport function createProject(\r\n  data: PROJECT_DTO[\"PARAMS\"]\r\n): Promise<PROJECT_DTO[\"RESPONSE\"]> {\r\n  return $axios.post(\"/project\", data);\r\n}\r\n\r\nexport function updateProject(\r\n  data: PROJECT_DTO[\"PARAMS\"]\r\n): Promise<PROJECT_DTO[\"RESPONSE\"]> {\r\n  return $axios.patch(`/project/${data.id}`, data);\r\n}\r\n\r\nexport function updateProjectCode(\r\n  data: PROJECT_CODE_DTO[\"PARAMS\"]\r\n): Promise<PROJECT_CODE_DTO[\"RESPONSE\"]> {\r\n  return $axios.patch(`/project/code/${data.id}`, data);\r\n}\r\n\r\nexport function deleteProject(data: DELETE_PROJECT_DTO[\"PARAMS\"]) {\r\n  return $axios.delete(`/project/${data.id}`);\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\r\nimport NotFound from \"./pages/NotFound\";\r\nimport { Provider } from \"mobx-react\";\r\nimport { AppStore } from \"@/stores/AppStore\";\r\nimport Canvas from \"./pages/Canvas\";\r\nimport Preview from \"./pages/Preview\";\r\nimport { setToken } from \"./utils/auth\";\r\n\r\nconst app = AppStore.create({ userInfo: { name: \"\" } });\r\n\r\nfunction App() {\r\n  useEffect(() => {\r\n    // 监听父组件传递过来的登录token\r\n    window.addEventListener(\"message\", updateToken);\r\n    return () => {\r\n      window.removeEventListener(\"message\", updateToken);\r\n    };\r\n  }, []);\r\n\r\n  function updateToken(e: any) {\r\n    const { data } = e;\r\n    const { even, params } = data;\r\n    if (even === \"updateToken\") {\r\n      setToken(params);\r\n    }\r\n  }\r\n  return (\r\n    <Provider app={app}>\r\n      <BrowserRouter>\r\n        <Routes>\r\n          <Route path=\"/\" element={<Canvas />} />\r\n          <Route path=\"/preview/:id\" element={<Preview />} />\r\n          <Route path=\"*\" element={<NotFound />} />\r\n        </Routes>\r\n      </BrowserRouter>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from \"web-vitals\";\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom/client\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport \"@/assets/styles/common.scss\";\r\nimport \"@/assets/styles/iconfont/iconfont.css\";\r\n\r\nconst root = ReactDOM.createRoot(\r\n  document.getElementById(\"root\") as HTMLElement\r\n);\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"names":["_jsx","children","USER_INFO","types","model","name","optional","string","AppStore","userInfo","volatile","views","self","getIsOperate","_self$userInfo","_self$userInfo$bizRol","bizRoles","includes","actions","setOpenKeys","data","openKeys","afterCreate","beforeDestroy","CARD","_objectSpread","_previewData","canNesting","type","indexOf","Child","props","id","parentId","index","selectId","edit","_useState","useState","_useState2","_slicedToArray","positionDown","setPositionDown","ref","useRef","CurrentNode","previewData","_useDrop","useDrop","accept","drop","_item","monitor","didDrop","moveCom","dragParentId","item","hoverIndex","dragIndex","appendCom","collect","isOver","canDrop","isOverCurrent","shallow","hover","current","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","clientOffset","getClientOffset","hoverClentY","y","_useDrop2","_useDrop2$","_useDrag","useDrag","isDragging","drag","selected","_jsxs","onClick","e","stopPropagation","setSelectId","className","cl","map","curField","_i","inject","observer","_ref","append","refreshId","setCodeTree","getMessage","source","window","parent","_e$data","even","params","moveWaiting","updateCodeTree","useEffect","addEventListener","postMessage","removeEventListener","useLayoutEffect","codeTree","length","child","_document$getElementB","height","document","getElementById","offsetHeight","_Fragment","code","dfs","fn","Array","isArray","i","initialValue","editStore","number","selectedComp","rootCode","refresh","refreshCodeTree","uuid","concat","_toConsumableArray","cloneDeep","push","splice","_ref2","dragData","hoverData","hoverInDragChild","moveRowRoot","dropIndex","list","s","removeCom","updateSelected","_ref3","key","value","create","DndProvider","backend","HTML5Backend","Provider","CenterCanvas","trimObjectValues","Object","keys","forEach","trim","deleteEmptyProperty","undefined","trimRequestInterceptors","config","method","error","Promise","reject","SLOW_AUTH_TOKEN","SLOW_USER","removeAuthStorage","localStorage","removeItem","timeout","responseType","headers","baseURL","process","$axios","axios","_$axios$interceptors$","interceptors","request","use","apply","token","getItem","Authorization","response","res","_res$data","_res$data2","message","notification","_error$response","status","location","replace","resData","PageComp","useParams","setData","get","getProject","then","JSON","parse","comp","app","updateToken","setItem","BrowserRouter","Routes","Route","path","element","Canvas","Preview","NotFound","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","React","App","reportWebVitals"],"sourceRoot":""}