{"version":3,"file":"static/js/253.1251415f.chunk.js","mappings":"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","sources":["pages/NotFound/index.tsx","stores/appStore.types.ts","stores/AppStore.ts","pages/Canvas/ItemTypes.ts","pages/Canvas/schema/preview/index.tsx","pages/Canvas/utils.ts","pages/Canvas/CenterCanvas/Child.tsx","utils/env.ts","pages/RemoteComp/index.ts","pages/Preview/utils.ts","pages/Canvas/CenterCanvas/index.tsx","utils/index.ts","pages/Canvas/index.store.ts","pages/Canvas/index.tsx","utils/common.ts","services/$axios.config.ts","utils/auth.ts","services/$axios.ts","pages/Preview/PageComp.tsx","pages/Preview/index.tsx","services/project.ts","App.tsx","reportWebVitals.ts","bootstrap.tsx"],"sourcesContent":["function NotFound() {\n  return <div>404 Not</div>;\n}\n\nexport default NotFound;\n","import { types } from \"mobx-state-tree\";\n\nexport const USER_INFO = types.model({\n  name: types.optional(types.string, \"用户名\"),\n});\n","import { types } from \"mobx-state-tree\";\nimport { USER_INFO } from \"./appStore.types\";\n\nexport const AppStore = types\n  .model(\"AppStore\", {\n    userInfo: USER_INFO,\n  })\n  .volatile(() => ({}))\n  .views((self: any) => ({\n    // 判断是否是运营\n    get getIsOperate() {\n      return self.userInfo?.bizRoles?.includes(2);\n    },\n  }))\n  .actions((self: any) => ({\n    setOpenKeys(data: any[]) {\n      self.openKeys = data;\n    },\n    afterCreate() {\n      // console.log(\"appStore afterCreate\");\n    },\n    beforeDestroy() {\n      // console.log(\"appStore beforeDestroy\");\n    },\n  }));\n","export const CARD = \"CARD\";\n","import _previewData from \"remote/preview\";\nimport { PreviewFieldInterface } from \"s-low-components\";\n\nconst previewData = {\n  ...(_previewData as PreviewFieldInterface),\n};\n\nexport default previewData;\n","// 组件是否支持嵌套\nfunction canNesting(type: string) {\n  return [\"div\"].indexOf(type) > -1;\n}\n\nexport { canNesting };\n","import React, { useRef, useState } from \"react\";\nimport { FieldNodeSchema } from \"../types\";\nimport { useDrop, useDrag } from \"react-dnd\";\nimport { CARD } from \"../ItemTypes\";\nimport previewData from \"../schema/preview\";\nimport cl from \"classnames\";\nimport { canNesting } from \"../utils\";\n\ninterface Props {\n  id?: string;\n  parentId: string;\n  data: FieldNodeSchema;\n  index: number;\n  selectId: string;\n  remotePreviewData: Record<string, any>;\n  edit?: any;\n}\n\nfunction Child(props: Props) {\n  const { id, parentId, data, index, selectId, edit, remotePreviewData } =\n    props;\n  const [positionDown, setPositionDown] = useState(false);\n\n  const ref = useRef<HTMLDivElement | null>(null);\n\n  const CurrentNode = previewData[data.type] || remotePreviewData[data.type];\n\n  const [{ isOver, canDrop, isOverCurrent }, drop] = useDrop(\n    () => ({\n      accept: CARD,\n      drop(_item: any, monitor) {\n        const didDrop = monitor.didDrop();\n        if (didDrop) return;\n\n        // 没有id是新增 反之是移动\n        if (!_item.data.id) {\n          edit.appendCom({\n            item: _item.data,\n            data,\n            parentId,\n            hoverIndex: index,\n            positionDown,\n          });\n        } else {\n          edit.moveCom({\n            dragParentId: _item.parentId,\n            item: _item.data,\n            data,\n            parentId,\n            hoverIndex: index,\n            dragIndex: _item.index,\n            positionDown,\n          });\n        }\n      },\n      collect: (monitor) => ({\n        isOver: monitor.isOver(),\n        canDrop: monitor.canDrop(),\n        isOverCurrent: monitor.isOver({ shallow: true }),\n      }),\n      hover: (item, monitor) => {\n        // 只判断hover最小的组件\n        const isHoverCurrent = monitor.isOver({ shallow: true });\n        if (isHoverCurrent && ref.current) {\n          const hoverBoundingRect = ref.current.getBoundingClientRect();\n          // 获取hover组件的高度的一半\n          const hoverMiddleY =\n            (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n          const clientOffset = monitor.getClientOffset(); // 鼠标的位置\n          if (clientOffset) {\n            const hoverClentY = clientOffset.y - hoverBoundingRect.top; // 鼠标唯一hover组件的纵向位置\n\n            setPositionDown(hoverClentY >= hoverMiddleY); // 判断鼠标是位于组件的上半部还是下半部\n          }\n        }\n      },\n    }),\n    [data, parentId, index, positionDown, edit]\n  );\n\n  const [, drag] = useDrag(() => {\n    return {\n      type: CARD,\n      item: { data, parentId, index },\n      collect: (monitor) => ({\n        isDragging: monitor.isDragging(),\n      }),\n    };\n  }, [index, parentId, data]);\n\n  const selected = data.id === selectId;\n\n  drop(drag(ref));\n\n  function setSelectId(e: any) {\n    e.stopPropagation();\n    edit.setSelectId(data.id);\n  }\n\n  return (\n    <div ref={ref} onClick={setSelectId} id={id} className=\"relative\">\n      {/* 选中border */}\n      <div\n        className={cl(\"absolute w-full h-full\", {\n          \"border border-primary\": selected,\n          \"border border-primary border-dashed\": isOverCurrent,\n        })}\n      ></div>\n      {/* hover border */}\n      <div\n        className={\n          \"absolute w-full h-full hover:border hover:border-primary hover:border-dashed\"\n        }\n      ></div>\n      {CurrentNode && (\n        <CurrentNode {...data.props}>\n          {!canNesting(data.type)\n            ? data.props.children\n            : data.children.map((curField, _i) => (\n                <Child\n                  key={curField.id}\n                  data={curField}\n                  parentId={data.id}\n                  index={_i}\n                  edit={edit}\n                  selectId={selectId}\n                  remotePreviewData={remotePreviewData}\n                />\n              ))}\n        </CurrentNode>\n      )}\n    </div>\n  );\n}\n\nexport default Child;\n","// 编译环境\nconst BUILD_ENV = process.env.REACT_APP_BUILD_ENV;\n// 是否为本地开发环境\nexport const isDev = BUILD_ENV === \"development\";\n// 是否为测试环境\nexport const isTest = BUILD_ENV === \"test\";\n// 是否为 UAT 环境\nexport const isUat = BUILD_ENV === \"uat\";\n// 是否为生产环境\nexport const isProd = BUILD_ENV === \"production\";\n","import { isDev } from \"@/utils/env\";\nimport { importRemote } from \"@module-federation/utilities\";\n\n// 加载中间预览配置\nexport function initRemotePreview({ path, name }: any) {\n  return new Promise((resolve, reject) => {\n    const app2Utils = importRemote({\n      url: isDev\n        ? (process.env.REACT_APP_REMOTE_COMP as string)\n        : `${process.env.REACT_APP_REMOTE_COMP}/${path}`,\n      scope: name,\n      module: \"./preview\",\n    });\n    app2Utils\n      .then((res: any) => {\n        resolve(res.default);\n      })\n      .catch((err) => {\n        reject(err);\n      });\n  });\n}\n","export function filterRemoteList(list: any[]) {\n  // 先过滤出远程组件 再将相同的远程组件去重\n  return list\n    .filter((v: any) => typeof v.remote === \"object\")\n    .reduce((totalList: any[], item: any) => {\n      const i = totalList.findIndex((v: any) => v.type === item.type);\n      if (i === -1) {\n        totalList.push(item);\n      }\n      return totalList;\n    }, []);\n}\n","import React, { useEffect, useLayoutEffect, useRef } from \"react\";\nimport { inject, observer } from \"mobx-react\";\nimport Child from \"./Child\";\nimport { initRemotePreview } from \"@/pages/RemoteComp\";\nimport { useUpdate } from \"ahooks\";\nimport { filterRemoteList } from \"@/pages/Preview/utils\";\n\nfunction CenterCanvas({ edit }: any) {\n  // !!!不能删除 用于刷新组件\n  const { refreshId, append, selectId, setCodeTree } = edit;\n  const remotePreviewData = useRef<Record<string, any>>({});\n  const update = useUpdate();\n\n  useEffect(() => {\n    // 统一接收平台信息，调用对应方法处理\n    window.addEventListener(\"message\", getMessage);\n\n    // 主动告知父元素已经开始监听 可以执行同步了\n    window.parent.postMessage(\n      {\n        type: \"preview-init-success\",\n      },\n      \"*\"\n    );\n    return () => {\n      window.removeEventListener(\"message\", getMessage);\n    };\n  }, []);\n\n  useEffect(() => {\n    // 加载远程组件\n    if (edit.codeTree.children.length) {\n      // 先过滤出远程组件 再将相同的远程组件去重\n      const list = filterRemoteList(edit.codeTree.children);\n\n      list.forEach((item: any) => {\n        initRemotePreview(item.remote).then((remoteComp: any) => {\n          if (!remotePreviewData.current[item.type]) {\n            remotePreviewData.current[item.type] = remoteComp;\n            if (Object.keys(remotePreviewData.current).length === list.length) {\n              update();\n            }\n          }\n        });\n      });\n    }\n  }, [edit.codeTree.children]);\n\n  useLayoutEffect(() => {\n    if (edit.codeTree) {\n      // eslint-disable-next-line array-callback-return\n      if (edit.codeTree.children.length) {\n        edit.codeTree.children.map((child: any) => {\n          const height = document.getElementById(child.id)?.offsetHeight;\n          child.height = height;\n        });\n\n        window.parent.postMessage(\n          {\n            type: \"updateCodeTree\",\n            params: edit.codeTree,\n          },\n          \"*\"\n        );\n      }\n    }\n  }, [edit.codeTree, edit.codeTree.refreshId]);\n\n  useEffect(() => {\n    selectId &&\n      window.parent.postMessage(\n        {\n          type: \"selectId\",\n          params: selectId,\n        },\n        \"*\"\n      );\n  }, [selectId]);\n\n  function getMessage(e: any) {\n    if (e.source !== window.parent) return;\n\n    if (e.data) {\n      let { even, params } = e.data;\n\n      if (even === \"move\") moveWaiting(params);\n      if (even === \"updateCodeTree\") updateCodeTree(params);\n    }\n  }\n\n  function moveWaiting(params: any) {\n    append(params.data);\n  }\n\n  function updateCodeTree(params: any) {\n    setCodeTree(params);\n  }\n\n  return (\n    <>\n      {edit.codeTree.children.map((code: any, index: number) => (\n        <Child\n          key={code.id}\n          id={code.id}\n          data={code}\n          parentId={edit.codeTree.id}\n          index={index}\n          edit={edit}\n          selectId={edit.selectId}\n          remotePreviewData={remotePreviewData.current}\n        />\n      ))}\n    </>\n  );\n}\n\nexport default inject(\"edit\")(observer(CenterCanvas));\n","// 深度优先遍历\nfunction dfs<T extends { children?: T[] }>(data: T, fn: (param: T) => boolean) {\n  if (fn(data) === false) return false;\n\n  if (Array.isArray(data?.children)) {\n    for (let i = data.children.length - 1; i >= 0; i--) {\n      if (!dfs(data.children[i], fn)) return false;\n    }\n  }\n\n  return true;\n}\n\n// 广度优先遍历\nfunction bfs<T extends { children?: T[] }>(data: T, fn: (param: T) => boolean) {\n  if (Array.isArray(data?.children)) {\n    for (let i = data.children.length - 1; i >= 0; i--) {\n      if (!dfs(data.children[i], fn)) return false;\n    }\n  }\n\n  if (fn(data) === false) return false;\n\n  return true;\n}\n\nexport { dfs, bfs };\n","import { types } from \"mobx-state-tree\";\nimport { FieldNode } from \"./types\";\nimport { v4 as uuid } from \"uuid\";\nimport { dfs } from \"@/utils\";\nimport { canNesting } from \"./utils\";\nimport { cloneDeep } from \"lodash-es\";\n\nexport interface FieldNodeSchema extends FieldNode {\n  id: string;\n  children: FieldNodeSchema[];\n}\n\nexport interface State extends Omit<FieldNodeSchema, \"type\"> {\n  refreshId: number;\n  focusId?: string;\n}\n\nconst initialValue: State = {\n  id: \"root\",\n  props: {},\n  children: [],\n  refreshId: 0,\n};\n\nexport const EditStore = types\n  .model(\"EditStore\", {\n    refreshId: types.optional(types.number, 0),\n  })\n  .volatile(() => ({\n    codeTree: initialValue,\n    selectId: \"\",\n    selectedComp: null,\n  }))\n  .views((self: any) => ({\n    get rootCode() {\n      return self.codeTree;\n    },\n  }))\n  .actions((self: any) => ({\n    setCodeTree(code: any) {\n      self.codeTree = code;\n    },\n    refresh() {\n      self.refreshId += 1;\n    },\n    refreshCodeTree() {\n      self.codeTree.refreshId += 1;\n    },\n    setSelectId(id: string) {\n      self.selectId = id;\n    },\n    // 根级新增\n    append(data: FieldNode) {\n      const id = uuid();\n      self.codeTree = {\n        ...self.codeTree,\n        children: [\n          ...self.codeTree.children,\n          {\n            ...cloneDeep(data),\n            id,\n            children: [],\n          },\n        ],\n      };\n\n      if (self.codeTree.children.length === 1) {\n        self.setSelectId(self.codeTree.children[0].id);\n      }\n    },\n    /**\n     * 新增到组件内部\n     */\n    appendCom({\n      item, // 拖拽的数据\n      data, // hover的数据\n      parentId, // hover父级id\n      hoverIndex, // hover索引\n      positionDown, // 鼠标在hover组件上半部还是下半部\n    }: {\n      item: FieldNode;\n      data: FieldNodeSchema;\n      parentId: string;\n      hoverIndex: number;\n      positionDown: boolean;\n    }) {\n      const id = uuid();\n\n      dfs(self.codeTree, (curField: FieldNodeSchema) => {\n        // 不是嵌套组件 就把新增组件放在父组件里(data的同级)\n        if (!canNesting(data.type) && curField.id === parentId) {\n          // 通过positionDown判断是放在data上还是下\n          if (positionDown) {\n            // !!!这里要注意 children不能覆盖item的, id必须要覆盖item的\n            curField.children.splice(hoverIndex + 1, 0, {\n              children: [],\n              ...cloneDeep(item),\n              id,\n            });\n          } else {\n            curField.children.splice(hoverIndex, 0, {\n              children: [],\n              ...cloneDeep(item),\n              id,\n            });\n          }\n\n          return false; // 停止dfs\n        }\n\n        // 是嵌套组件 将新组件放入data中\n        if (canNesting(data.type) && curField.id === data.id) {\n          curField.children.push({\n            children: [],\n            ...cloneDeep(item),\n            id,\n          });\n\n          return false;\n        }\n\n        return true;\n      });\n\n      self.selectId = id;\n      self.refreshCodeTree();\n    },\n    // 移动组件\n    moveCom({\n      dragParentId, // 拖拽组件的父级id\n      item: dragData, // 拖拽组件\n      data: hoverData, // hover组件\n      parentId, // hover组件父级id\n      hoverIndex, // hover组件索引\n      dragIndex, // 拖拽组件索引\n      positionDown, // 鼠标在hover组件上半部还是下半部\n    }: {\n      dragParentId: string;\n      item: FieldNodeSchema;\n      data: FieldNodeSchema;\n      parentId: string;\n      hoverIndex: number;\n      dragIndex: number;\n      positionDown: boolean;\n    }) {\n      if (hoverData.id === dragData.id) return; // 自己套自己 不动\n\n      let hoverInDragChild = false;\n\n      // 判断拖拽组件是不是拖拽进自己内部, 如果是不处理\n      dfs(dragData, (curField: FieldNodeSchema) => {\n        if (curField.id === hoverData.id) {\n          hoverInDragChild = true;\n          return false;\n        }\n\n        return true;\n      });\n\n      if (hoverInDragChild) return;\n\n      // 删除拖拽组件原位置\n      dfs(self.codeTree, (curField: FieldNodeSchema) => {\n        if (curField.id === dragParentId) {\n          curField.children.splice(dragIndex, 1);\n          return false;\n        }\n\n        return true;\n      });\n\n      // 新增组件到拖拽后的位置\n      self.appendCom({\n        item: dragData,\n        data: hoverData,\n        parentId,\n        hoverIndex,\n        positionDown,\n      });\n    },\n    moveRowRoot(dragIndex: number, dropIndex: number) {\n      const list = self.codeTree.children;\n      const s = list.splice(dragIndex, 1)[0];\n      list.splice(dropIndex, 0, s);\n      self.codeTree.children = [...list];\n    },\n    removeCom(parentId: string, hoverIndex: number) {\n      dfs(self.codeTree, (curField: FieldNodeSchema) => {\n        if (curField.id === parentId) {\n          curField.children.splice(hoverIndex, 1);\n\n          return false;\n        }\n        return true;\n      });\n\n      self.refresh();\n    },\n    updateSelected({ key, value }: { key: string; value: any }) {\n      dfs(self.codeTree, (curField: FieldNodeSchema) => {\n        if (curField.id === self.selectId) {\n          curField.props[key] = value;\n          return false;\n        }\n        return true;\n      });\n      self.refresh();\n    },\n    afterCreate() {\n      // console.log(\"EditStore afterCreate\");\n    },\n    beforeDestroy() {\n      // console.log(\"EditStore beforeDestroy\");\n    },\n  }));\n","import React, { useEffect } from \"react\";\nimport CenterCanvas from \"./CenterCanvas\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport { DndProvider } from \"react-dnd\";\nimport { EditStore } from \"./index.store\";\nimport { Provider } from \"mobx-react\";\n\nconst editStore = EditStore.create();\n\nfunction Canvas() {\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <Provider edit={editStore}>\n        <CenterCanvas />\n      </Provider>\n    </DndProvider>\n  );\n}\n\nexport default Canvas;\n","export function trimObjectValues(params: any) {\n  params instanceof Object &&\n    Object.keys(params).forEach((key) => {\n      if (typeof params[key] === \"string\") {\n        params[key] = params[key].trim();\n      }\n    });\n}\n\nexport function initListId(list: any[], regStrs?: string[], key = \"id\") {\n  return list.map((item, index) => ({\n    ...item,\n    [key]: Array.isArray(regStrs)\n      ? regStrs.reduce(\n          (idStr: string, key: string) => idStr + (item[key] || key),\n          \"\"\n        )\n      : index + 1,\n  }));\n}\n\nexport function initListIndex(\n  list: any[],\n  regStrs?: string[],\n  key: string = \"id\"\n) {\n  return list.map((item, index) => ({\n    ...item,\n    [key]: Array.isArray(regStrs)\n      ? regStrs.reduce(\n          (idStr: string, key: string) => idStr + (item[key] || key),\n          \"\"\n        )\n      : index,\n  }));\n}\n\nexport function initListIdWithPagination(list: any[], pagination: any) {\n  const { pageNum, pageSize } = pagination;\n  return list.map((item, index) => ({\n    id: (pageNum - 1) * pageSize + index + 1,\n    ...item,\n  }));\n}\n\nexport function initListIdWithChannelType(list: any[]) {\n  return list.map((item) => ({\n    id: item.channelTypeId + item.itemId,\n    ...item,\n  }));\n}\n\nexport function queryParams() {\n  let search = window.location.search;\n  search = search[0] === \"?\" ? search.substring(1) : search;\n  const query = search.split(\"&\");\n\n  return query.reduce((obj: any, item: string) => {\n    const [key, value] = item.split(\"=\");\n    obj[key] = value;\n    return obj;\n  }, {});\n}\n\nexport function deleteEmptyProperty(params: any) {\n  params instanceof Object &&\n    Object.keys(params).forEach((key) => {\n      const value = params[key];\n      if (\n        value === undefined ||\n        value === null ||\n        (typeof value === \"string\" && value.trim() === \"\")\n      ) {\n        delete params[key];\n      }\n    });\n}\n\nexport function deleteEmptyPropertyFromArray(list: any[]) {\n  if (!Array.isArray(list)) return;\n  list.forEach((v: any) => {\n    deleteEmptyProperty(v);\n  });\n}\n\n// 清空缓存\nexport function clearLocalStorage() {\n  localStorage.clear();\n}\n","import { deleteEmptyProperty, trimObjectValues } from '@/utils/common';\n\nexport const trimRequestInterceptors: [any, any] = [\n  (config: any) => {\n    if (config.method === 'get') {\n      trimObjectValues(config.params);\n      deleteEmptyProperty(config.params);\n    } else if (config.method === 'post') {\n      trimObjectValues(config.data);\n      deleteEmptyProperty(config.data);\n    }\n    return config;\n  },\n  (error: any) => {\n    return Promise.reject(error);\n  },\n];\n","const SLOW_AUTH_TOKEN = \"SLOW_AUTH_TOKEN\";\nconst SLOW_USER = \"SLOW_USER\";\n\nexport function setToken(token: string) {\n  localStorage.setItem(SLOW_AUTH_TOKEN, token);\n}\n\nexport function getToken() {\n  return localStorage.getItem(SLOW_AUTH_TOKEN);\n}\n\nexport function removeToken() {\n  return localStorage.removeItem(SLOW_AUTH_TOKEN);\n}\n\nexport function getUserStorage() {\n  return JSON.parse(localStorage.getItem(SLOW_USER) || \"null\");\n}\n\nexport function removeUserStorage() {\n  return localStorage.removeItem(SLOW_USER);\n}\n\nexport function removeAuthStorage() {\n  removeToken();\n  removeUserStorage();\n}\n","import axios, { AxiosRequestConfig } from \"axios\";\nimport { notification } from \"antd\";\nimport { trimRequestInterceptors } from \"./$axios.config\";\nimport { getToken, removeAuthStorage } from \"@/utils/auth\";\n\nconst config: AxiosRequestConfig = {\n  timeout: 5 * 1000, // 超时设置(单位毫秒)，无超时时间设置为 0。\n  responseType: \"json\", // 响应的数据格式：json/blob/document/arraybuffer/text/stream\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n  baseURL: `${process.env.REACT_APP_BASE_URL}/api/v1`,\n};\n\nconst $axios = axios.create(config);\n\n$axios.interceptors.request.use(...trimRequestInterceptors);\n\n$axios.interceptors.request.use(\n  (config) => {\n    const token = getToken();\n\n    (config.headers as any).Authorization = \"Bearer \" + token;\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n$axios.interceptors.response.use(\n  (res) => {\n    if (res.data?.code !== 200) {\n      res.data.message &&\n        notification.error({\n          message: res.data.message,\n        });\n      return Promise.reject(res.data.message);\n    }\n\n    return res.data?.data;\n  },\n  (error) => {\n    if (error?.response?.status === 401) {\n      removeAuthStorage();\n      window.location.replace(\"/login\");\n\n      return Promise.reject(error);\n    }\n    const resData = error?.response.data;\n    if (resData) {\n      resData.message &&\n        notification.error({\n          key: resData.message,\n          message: resData.message,\n        });\n    }\n\n    return Promise.reject(error);\n  }\n);\n\nexport default $axios;\n","import React, { FC } from \"react\";\nimport previewData from \"../Canvas/schema/preview\";\nimport { FieldNodeSchema } from \"../Canvas/types\";\nimport { canNesting } from \"../Canvas/utils\";\n\ninterface Props {\n  data: FieldNodeSchema;\n  remotePreviewData: Record<string, any>;\n}\n\nconst PageComp: FC<Props> = ({ data, remotePreviewData }) => {\n  const CurrentNode = previewData[data.type] || remotePreviewData[data.type];\n  return CurrentNode ? (\n    <CurrentNode {...data.props}>\n      {!canNesting(data.type)\n        ? data.props.children\n        : data.children.map((curField: any) => (\n            <PageComp\n              key={curField.id}\n              data={curField}\n              remotePreviewData={remotePreviewData}\n            />\n          ))}\n    </CurrentNode>\n  ) : null;\n};\n\nexport default PageComp;\n","import { getProject } from \"@/services/project\";\nimport { useUpdate } from \"ahooks\";\nimport React, { FC, useEffect, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { initRemotePreview } from \"../RemoteComp\";\nimport PageComp from \"./PageComp\";\nimport { filterRemoteList } from \"./utils\";\n\ninterface Props {}\n\nconst Preview: FC<Props> = () => {\n  const { id } = useParams();\n  const remotePreviewData = useRef<Record<string, any>>({});\n  const update = useUpdate();\n\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    if (id) {\n      getProject(id).then((res: any) => {\n        setData(JSON.parse(res.code || \"[]\"));\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    // 加载远程组件\n    if (data.length) {\n      // 先过滤出远程组件 再将相同的远程组件去重\n      const list = filterRemoteList(data);\n\n      list.forEach((item: any) => {\n        initRemotePreview(item.remote).then((remoteComp: any) => {\n          if (!remotePreviewData.current[item.type]) {\n            remotePreviewData.current[item.type] = remoteComp;\n\n            if (Object.keys(remotePreviewData.current).length === list.length) {\n              update();\n            }\n          }\n        });\n      });\n    }\n  }, [data]);\n\n  return (\n    <div>\n      {Array.isArray(data) &&\n        data.map((comp: any) => (\n          <PageComp\n            key={comp.id}\n            data={comp}\n            remotePreviewData={remotePreviewData.current}\n          />\n        ))}\n    </div>\n  );\n};\n\nexport default Preview;\n","import $axios from \"./$axios\";\nimport {\n  DELETE_PROJECT_DTO,\n  GET_PROJECT_DTO,\n  PROJECT_CODE_DTO,\n  PROJECT_DTO,\n} from \"./types/project\";\n\nexport function getProjectList(params: GET_PROJECT_DTO[\"PARAMS\"]) {\n  return $axios.get(\"/project\", { params });\n}\n\nexport function getProject(id: string | number) {\n  return $axios.get(`/project/${id}`);\n}\n\nexport function createProject(\n  data: PROJECT_DTO[\"PARAMS\"]\n): Promise<PROJECT_DTO[\"RESPONSE\"]> {\n  return $axios.post(\"/project\", data);\n}\n\nexport function updateProject(\n  data: PROJECT_DTO[\"PARAMS\"]\n): Promise<PROJECT_DTO[\"RESPONSE\"]> {\n  return $axios.patch(`/project/${data.id}`, data);\n}\n\nexport function updateProjectCode(\n  data: PROJECT_CODE_DTO[\"PARAMS\"]\n): Promise<PROJECT_CODE_DTO[\"RESPONSE\"]> {\n  return $axios.patch(`/project/code/${data.id}`, data);\n}\n\nexport function deleteProject(data: DELETE_PROJECT_DTO[\"PARAMS\"]) {\n  return $axios.delete(`/project/${data.id}`);\n}\n","import React, { useEffect } from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport NotFound from \"./pages/NotFound\";\nimport { Provider } from \"mobx-react\";\nimport { AppStore } from \"@/stores/AppStore\";\nimport Canvas from \"./pages/Canvas\";\nimport Preview from \"./pages/Preview\";\nimport { setToken } from \"./utils/auth\";\n\nconst app = AppStore.create({ userInfo: { name: \"\" } });\n\nfunction App() {\n  useEffect(() => {\n    // 监听父组件传递过来的登录token\n    window.addEventListener(\"message\", updateToken);\n    return () => {\n      window.removeEventListener(\"message\", updateToken);\n    };\n  }, []);\n\n  function updateToken(e: any) {\n    const { data } = e;\n    const { even, params } = data;\n    if (even === \"updateToken\") {\n      setToken(params);\n    }\n  }\n  return (\n    <Provider app={app}>\n      <BrowserRouter>\n        <Routes>\n          <Route path=\"/\" element={<Canvas />} />\n          <Route path=\"/preview/:id\" element={<Preview />} />\n          <Route path=\"*\" element={<NotFound />} />\n        </Routes>\n      </BrowserRouter>\n    </Provider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"@/assets/styles/common.scss\";\nimport \"@/assets/styles/iconfont/iconfont.css\";\n\nconst root = ReactDOM.createRoot(\n  document.getElementById(\"root\") as HTMLElement\n);\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"names":["_jsx","children","USER_INFO","types","model","name","optional","string","AppStore","userInfo","volatile","views","self","getIsOperate","_self$userInfo","_self$userInfo$bizRol","bizRoles","includes","actions","setOpenKeys","data","openKeys","afterCreate","beforeDestroy","CARD","_objectSpread","_previewData","canNesting","type","indexOf","Child","props","id","parentId","index","selectId","edit","remotePreviewData","_useState","useState","_useState2","_slicedToArray","positionDown","setPositionDown","ref","useRef","CurrentNode","previewData","_useDrop","useDrop","accept","drop","_item","monitor","didDrop","moveCom","dragParentId","item","hoverIndex","dragIndex","appendCom","collect","isOver","canDrop","isOverCurrent","shallow","hover","current","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","clientOffset","getClientOffset","hoverClentY","y","_useDrop2","_useDrop2$","_useDrag","useDrag","isDragging","drag","selected","_jsxs","onClick","e","stopPropagation","setSelectId","className","cl","map","curField","_i","isDev","BUILD_ENV","initRemotePreview","_ref","path","Promise","resolve","reject","importRemote","url","process","concat","scope","module","then","res","default","catch","err","filterRemoteList","list","filter","v","remote","reduce","totalList","findIndex","push","inject","observer","append","refreshId","setCodeTree","update","useUpdate","getMessage","source","window","parent","_e$data","even","params","moveWaiting","updateCodeTree","useEffect","addEventListener","postMessage","removeEventListener","codeTree","length","forEach","remoteComp","Object","keys","useLayoutEffect","child","_document$getElementB","height","document","getElementById","offsetHeight","_Fragment","code","dfs","fn","Array","isArray","i","initialValue","editStore","number","selectedComp","rootCode","refresh","refreshCodeTree","uuid","_toConsumableArray","cloneDeep","splice","_ref2","dragData","hoverData","hoverInDragChild","moveRowRoot","dropIndex","s","removeCom","updateSelected","_ref3","key","value","create","DndProvider","backend","HTML5Backend","Provider","CenterCanvas","trimObjectValues","trim","deleteEmptyProperty","undefined","trimRequestInterceptors","config","method","error","SLOW_AUTH_TOKEN","SLOW_USER","removeAuthStorage","localStorage","removeItem","timeout","responseType","headers","baseURL","$axios","axios","_$axios$interceptors$","interceptors","request","use","apply","token","getItem","Authorization","response","_res$data","_res$data2","message","notification","_error$response","status","location","replace","resData","PageComp","useParams","setData","get","getProject","JSON","parse","comp","app","updateToken","setItem","BrowserRouter","Routes","Route","element","Canvas","Preview","NotFound","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","React","App","reportWebVitals"],"sourceRoot":""}