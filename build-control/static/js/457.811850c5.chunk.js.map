{"version":3,"file":"static/js/457.811850c5.chunk.js","mappings":"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","sources":["stores/appStore.types.ts","stores/AppStore.ts","App.tsx","reportWebVitals.ts","initServiceWorker.ts","bootstrap.tsx","components/Loading/FullScreenLoading.tsx","constants/index.ts","pages/Auth/AuthContext.tsx","services/login.ts","pages/Home/Content/index.tsx","pages/Home/index.tsx","pages/Slow/index.tsx","router/index.tsx","services/$axios.config.ts","services/$axios.ts","utils/auth.ts","utils/common.ts"],"sourcesContent":["import { types } from \"mobx-state-tree\";\n\nexport const USER_INFO = types.model({\n  name: types.optional(types.string, \"用户名\"),\n});\n","import { types } from \"mobx-state-tree\";\nimport { USER_INFO } from \"./appStore.types\";\n\nexport const AppStore = types\n  .model(\"AppStore\", {\n    userInfo: USER_INFO,\n  })\n  .volatile(() => ({}))\n  .views((self: any) => ({\n    // 判断是否是运营\n    get getIsOperate() {\n      return self.userInfo?.bizRoles?.includes(2);\n    },\n  }))\n  .actions((self: any) => ({\n    setOpenKeys(data: any[]) {\n      self.openKeys = data;\n    },\n    afterCreate() {\n      // console.log(\"appStore afterCreate\");\n    },\n    beforeDestroy() {\n      // console.log(\"appStore beforeDestroy\");\n    },\n  }));\n","import \"./App.css\";\nimport { createBrowserRouter, RouterProvider } from \"react-router-dom\";\nimport { Provider } from \"mobx-react\";\nimport { AppStore } from \"@/stores/AppStore\";\nimport { ConfigProvider } from \"antd\";\nimport { routes } from \"./router\";\nimport { Suspense } from \"react\";\nimport FullScreenLoading from \"./components/Loading/FullScreenLoading\";\nimport zhCN from \"antd/locale/zh_CN\";\n\nconst app = AppStore.create({ userInfo: { name: \"\" } });\n\nconst router = createBrowserRouter(routes);\n\nfunction App() {\n  return (\n    <Provider app={app}>\n      <ConfigProvider componentSize=\"middle\" locale={zhCN}>\n        <Suspense fallback={<FullScreenLoading />}>\n          <RouterProvider router={router} />\n        </Suspense>\n      </ConfigProvider>\n    </Provider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","function emitUpdate() {\n  if (window.confirm(\"页面有更新 请确认!\") === true) {\n    try {\n      navigator.serviceWorker.getRegistration().then((reg: any) => {\n        console.log(\"通知 sw 更新\");\n        reg.waiting.postMessage(\"skipWaiting\");\n      });\n    } catch (e) {\n      window.location.reload();\n    }\n  }\n}\n\nconst registerServiceWorker = async () => {\n  if (\"serviceWorker\" in navigator) {\n    try {\n      const registration = await navigator.serviceWorker.register(\n        \"/service-worker.js\",\n        {\n          scope: \"/\",\n        }\n      );\n\n      if (registration.waiting) {\n        emitUpdate();\n        return;\n      }\n\n      if (registration.installing) {\n        console.log(\"正在安装 Service worker\");\n      } else if (registration.waiting) {\n        console.log(\"已安装 Service worker installed\");\n      } else if (registration.active) {\n        console.log(\"激活 Service worker\");\n      }\n\n      // 避免无限刷新\n      registration.onupdatefound = function () {\n        const installingWorker = registration.installing;\n        console.log(\n          \"🚀 ~ file: initServiceWorker.ts:33 ~ registerServiceWorker ~ installingWorker:\",\n          installingWorker\n        );\n\n        if (installingWorker) {\n          installingWorker.onstatechange = function () {\n            switch (installingWorker.state) {\n              case \"installed\":\n                if (navigator.serviceWorker.controller) {\n                  // 更新\n                  emitUpdate();\n                }\n                break;\n            }\n          };\n        }\n      };\n    } catch (error) {\n      console.error(`注册失败：${error}`);\n    }\n  }\n};\n\nregisterServiceWorker();\n\nexport {};\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"@/assets/styles/common.scss\";\nimport \"@/assets/iconfont/iconfont.css\";\nimport \"./initServiceWorker\";\n\nconst root = ReactDOM.createRoot(\n  document.getElementById(\"root\") as HTMLElement\n);\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { Spin } from \"antd\";\nimport { FC } from \"react\";\nimport { createPortal } from \"react-dom\";\n\ninterface FullScreenLoadingProps {}\n\nconst FullScreenLoading: FC<FullScreenLoadingProps> = () => {\n  return createPortal(\n    <div className=\"w-full h-full flex justify-center items-center\">\n      <Spin />\n    </div>,\n    document.body\n  );\n};\n\nexport default FullScreenLoading;\n","export const previewIframeId = \"previewIframeId511\";\n","import { signIn, signOut } from \"@/services/login\";\nimport { LOGIN_DTO } from \"@/services/types/login\";\nimport {\n  setAuthStorage,\n  removeAuthStorage,\n  getUserStorage,\n} from \"@/utils/auth\";\nimport { createContext, useContext, useEffect, useRef, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\ninterface AuthContextType {\n  user: any;\n  signin: (user: LOGIN_DTO[\"params\"]) => Promise<LOGIN_DTO[\"Response\"]>;\n  signout: () => void;\n}\n\nconst AuthContext = createContext<AuthContextType>(null!);\n\nfunction useAuth() {\n  return useContext(AuthContext);\n}\n// 是否已登录\nconst isLogin = () => getUserStorage();\n\nfunction AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<LOGIN_DTO[\"Response\"][\"user\"]>(null!);\n  const loadingRef = useRef(false);\n  const navigate = useNavigate();\n\n  const notLoginPage = window.location.pathname !== \"/login\";\n\n  useEffect(() => {\n    const storageUser = getUserStorage();\n    storageUser && setUser(storageUser);\n    if (!storageUser && !loadingRef.current && notLoginPage) {\n      signout();\n    }\n  }, []);\n\n  let signin = (user: LOGIN_DTO[\"params\"]) => {\n    return signIn(user).then((res) => {\n      setAuthStorage(res);\n      setUser(res.user);\n      return res;\n    });\n  };\n\n  let signout = () => {\n    loadingRef.current = true;\n    return signOut({ userName: user?.userName })\n      .then(() => {\n        setUser(null!);\n        removeAuthStorage();\n        if (notLoginPage) {\n          navigate(\"/login\");\n        }\n      })\n      .finally(() => {\n        loadingRef.current = false;\n      });\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, signin, signout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\nexport { AuthContext, AuthProvider, useAuth, isLogin };\n","import $axios from \"./$axios\";\nimport { LOGIN_DTO } from \"./types/login\";\n\nexport function signIn(\n  data: LOGIN_DTO[\"params\"]\n): Promise<LOGIN_DTO[\"Response\"]> {\n  return $axios.post(\"/auth/signIn\", data);\n}\n\nexport function signOut(data: Pick<LOGIN_DTO[\"params\"], \"userName\">) {\n  return $axios.post(\"/auth/signOut\", data);\n}\n","import { Button } from \"antd\";\nimport { FC } from \"react\";\nimport GunDamImg from \"@/assets/images/main/gundam.jpeg\";\n\nimport \"./index.scoped.scss\";\nimport { useNavigate } from \"react-router-dom\";\n\ninterface MainContentProps {}\n\nconst MainContent: FC<MainContentProps> = () => {\n  const navigate = useNavigate();\n\n  function goApplication() {\n    navigate(\"/application/project\");\n  }\n\n  return (\n    <div className=\"bg-blue-50 relative content grow shrink basis-full flex\">\n      <div className=\"left\">\n        <div className=\"operate mt-20 mx-20 bg-white rounded-3xl inline-flex flex-col  items-left pl-10 pr-20 pt-10 pb-20\">\n          <div className=\"mb-10\">\n            <h3 className=\"text-2xl\">SLow低代码</h3>\n          </div>\n          <div className=\"flex\">\n            <Button\n              type=\"primary\"\n              size=\"large\"\n              className=\"mr-4\"\n              onClick={goApplication}\n            >\n              开始使用\n            </Button>\n            <Button size=\"large\">操作指南</Button>\n          </div>\n        </div>\n      </div>\n      <div className=\"right pr-20 pt-20\">\n        <img src={GunDamImg} alt=\"\" />\n      </div>\n    </div>\n  );\n};\n\nexport default MainContent;\n","import MainContent from \"./Content\";\n\nfunction Home() {\n  return <MainContent />;\n}\n\nexport default Home;\n","import { FC } from \"react\";\nimport { Outlet } from \"react-router-dom\";\nimport { AuthProvider } from \"../Auth/AuthContext\";\n\ninterface SlowProps {}\n\nconst Slow: FC<SlowProps> = () => {\n  return (\n    <AuthProvider>\n      <Outlet />\n    </AuthProvider>\n  );\n};\n\nexport default Slow;\n","import Home from \"@/pages/Home\";\nimport Slow from \"@/pages/Slow\";\nimport { lazy } from \"react\";\nimport { RouteObject } from \"react-router-dom\";\n\nconst Login = lazy(() => import(\"@/pages/Login\"));\n\nconst Main = lazy(() => import(\"@/pages/Main\"));\n\nconst Project = lazy(() => import(\"@/pages/Project/indexProject\"));\nconst Application = lazy(() => import(\"@/pages/Application\"));\nconst User = lazy(() => import(\"@/pages/User/indexUser\"));\nconst Role = lazy(() => import(\"@/pages/Role/indexRole\"));\nconst Menu = lazy(() => import(\"@/pages/Menu/indexMenu\"));\nconst Images = lazy(() => import(\"@/pages/Images/indexImages\"));\n\nconst Editor = lazy(() => import(\"@/pages/Editor\"));\n\n// 应用页面路由/菜单\ntype appInterface = RouteObject & {\n  name?: string;\n};\nexport const applicationChildren: appInterface[] = [\n  {\n    path: \"project\",\n    id: \"/application/project\",\n    name: \"项目管理\",\n    element: <Project />,\n  },\n  {\n    path: \"user\",\n    id: \"/application/user\",\n    name: \"用户管理\",\n    element: <User />,\n  },\n  {\n    path: \"role\",\n    id: \"/application/role\",\n    name: \"角色管理\",\n    element: <Role />,\n  },\n  {\n    path: \"menu\",\n    id: \"/application/menu\",\n    name: \"菜单管理\",\n    element: <Menu />,\n  },\n  {\n    path: \"images\",\n    id: \"/application/images\",\n    name: \"图片管理\",\n    element: <Images />,\n  },\n];\n\nexport const routes: RouteObject[] = [\n  {\n    path: \"/\",\n    element: <Slow />,\n    children: [\n      {\n        path: \"login\",\n        element: <Login />,\n      },\n      {\n        path: \"\",\n        element: <Main />,\n        children: [\n          {\n            path: \"home\",\n            element: <Home />,\n          },\n          {\n            path: \"application\",\n            element: <Application />,\n            children: applicationChildren as RouteObject[],\n          },\n          {\n            path: \"/editor/:id\",\n            element: <Editor />,\n            loader: () => {\n              const data = { some: \"thing\" };\n              return new Response(JSON.stringify(data), {\n                status: 200,\n              });\n            },\n          },\n        ],\n      },\n    ],\n  },\n];\n","import { deleteEmptyProperty, trimObjectValues } from '@/utils/common';\n\nexport const trimRequestInterceptors: [any, any] = [\n  (config: any) => {\n    if (config.method === 'get') {\n      trimObjectValues(config.params);\n      deleteEmptyProperty(config.params);\n    } else if (config.method === 'post') {\n      trimObjectValues(config.data);\n      deleteEmptyProperty(config.data);\n    }\n    return config;\n  },\n  (error: any) => {\n    return Promise.reject(error);\n  },\n];\n","import axios, { AxiosRequestConfig } from \"axios\";\nimport { notification } from \"antd\";\nimport { trimRequestInterceptors } from \"./$axios.config\";\nimport { getToken, removeAuthStorage } from \"@/utils/auth\";\n\nconst config: AxiosRequestConfig = {\n  timeout: 5 * 1000, // 超时设置(单位毫秒)，无超时时间设置为 0。\n  responseType: \"json\", // 响应的数据格式：json/blob/document/arraybuffer/text/stream\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n  baseURL: `${process.env.REACT_APP_BASE_URL}/api/v1`,\n};\n\nconst $axios = axios.create(config);\n\n$axios.interceptors.request.use(...trimRequestInterceptors);\n\n$axios.interceptors.request.use(\n  (config) => {\n    const token = getToken();\n\n    (config.headers as any).Authorization = \"Bearer \" + token;\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n$axios.interceptors.response.use(\n  (res) => {\n    if (res.data?.code !== 200) {\n      res.data.message &&\n        notification.error({\n          message: res.data.message,\n        });\n      return Promise.reject(res.data.message);\n    }\n\n    return res.data?.data;\n  },\n  (error) => {\n    if (error?.response?.status === 401) {\n      removeAuthStorage();\n      window.location.replace(\"/login\");\n\n      return Promise.reject(error);\n    }\n    const resData = error?.response.data;\n    if (resData) {\n      resData.message &&\n        notification.error({\n          key: resData.message,\n          message: resData.message,\n        });\n    }\n\n    return Promise.reject(error);\n  }\n);\n\nexport default $axios;\n","import { previewIframeId } from \"@/constants\";\nimport { LOGIN_DTO } from \"@/services/types/login\";\n\nconst SLOW_AUTH_TOKEN = \"SLOW_AUTH_TOKEN\";\nconst SLOW_USER = \"SLOW_USER\";\n\nfunction setToken(token: string) {\n  localStorage.setItem(SLOW_AUTH_TOKEN, token);\n}\n\nexport function getToken() {\n  return localStorage.getItem(SLOW_AUTH_TOKEN);\n}\n\nexport function removeToken() {\n  return localStorage.removeItem(SLOW_AUTH_TOKEN);\n}\n\nfunction setUserStorage({ user }: LOGIN_DTO[\"Response\"]) {\n  localStorage.setItem(SLOW_USER, JSON.stringify(user));\n}\n\nexport function getUserStorage() {\n  return JSON.parse(localStorage.getItem(SLOW_USER) || \"null\");\n}\n\nexport function removeUserStorage() {\n  return localStorage.removeItem(SLOW_USER);\n}\n\nexport function setAuthStorage(res: LOGIN_DTO[\"Response\"]) {\n  setToken(res.access_token);\n  setUserStorage(res);\n}\n\nexport function removeAuthStorage() {\n  removeToken();\n  removeUserStorage();\n}\n\n// 同步token给子应用\nexport function syncStorageWithChild() {\n  const iframeDom = document.getElementById(previewIframeId);\n  (iframeDom as any)?.contentWindow.postMessage(\n    {\n      even: \"updateToken\",\n      params: getToken(),\n    },\n    \"*\"\n  );\n}\n","export function trimObjectValues(params: any) {\n  params instanceof Object &&\n    Object.keys(params).forEach((key) => {\n      if (typeof params[key] === \"string\") {\n        params[key] = params[key].trim();\n      }\n    });\n}\n\nexport function initListId(list: any[], regStrs?: string[], key = \"id\") {\n  return list.map((item, index) => ({\n    ...item,\n    [key]: Array.isArray(regStrs)\n      ? regStrs.reduce(\n          (idStr: string, key: string) => idStr + (item[key] || key),\n          \"\"\n        )\n      : index + 1,\n  }));\n}\n\nexport function initListIndex(\n  list: any[],\n  regStrs?: string[],\n  key: string = \"id\"\n) {\n  return list.map((item, index) => ({\n    ...item,\n    [key]: Array.isArray(regStrs)\n      ? regStrs.reduce(\n          (idStr: string, key: string) => idStr + (item[key] || key),\n          \"\"\n        )\n      : index,\n  }));\n}\n\nexport function initListIdWithPagination(list: any[], pagination: any) {\n  const { pageNum, pageSize } = pagination;\n  return list.map((item, index) => ({\n    id: (pageNum - 1) * pageSize + index + 1,\n    ...item,\n  }));\n}\n\nexport function initListIdWithChannelType(list: any[]) {\n  return list.map((item) => ({\n    id: item.channelTypeId + item.itemId,\n    ...item,\n  }));\n}\n\nexport function queryParams() {\n  let search = window.location.search;\n  search = search[0] === \"?\" ? search.substring(1) : search;\n  const query = search.split(\"&\");\n\n  return query.reduce((obj: any, item: string) => {\n    const [key, value] = item.split(\"=\");\n    obj[key] = value;\n    return obj;\n  }, {});\n}\n\nexport function deleteEmptyProperty(params: any) {\n  params instanceof Object &&\n    Object.keys(params).forEach((key) => {\n      const value = params[key];\n      if (\n        value === undefined ||\n        value === null ||\n        (typeof value === \"string\" && value.trim() === \"\")\n      ) {\n        delete params[key];\n      }\n    });\n}\n\nexport function deleteEmptyPropertyFromArray(list: any[]) {\n  if (!Array.isArray(list)) return;\n  list.forEach((v: any) => {\n    deleteEmptyProperty(v);\n  });\n}\n\n// 清空缓存\nexport function clearLocalStorage() {\n  localStorage.clear();\n}\n"],"names":["USER_INFO","types","model","name","optional","string","AppStore","userInfo","volatile","views","self","getIsOperate","_self$userInfo","_self$userInfo$bizRol","bizRoles","includes","actions","setOpenKeys","data","openKeys","afterCreate","beforeDestroy","app","create","router","createBrowserRouter","routes","_jsx","Provider","children","ConfigProvider","componentSize","locale","zhCN","Suspense","fallback","FullScreenLoading","RouterProvider","onPerfEntry","Function","then","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","emitUpdate","window","confirm","navigator","serviceWorker","getRegistration","reg","console","log","waiting","postMessage","e","location","reload","registerServiceWorker","_asyncToGenerator","_regeneratorRuntime","mark","_callee","registration","wrap","_context","prev","next","register","scope","sent","abrupt","installing","active","onupdatefound","installingWorker","onstatechange","state","controller","t0","error","concat","stop","apply","arguments","ReactDOM","document","getElementById","render","React","App","reportWebVitals","createPortal","className","Spin","body","previewIframeId","AuthContext","createContext","useAuth","useContext","isLogin","getUserStorage","AuthProvider","_useState","useState","_useState2","_slicedToArray","user","setUser","loadingRef","useRef","navigate","useNavigate","notLoginPage","pathname","useEffect","storageUser","current","signout","userName","$axios","post","removeAuthStorage","finally","value","signin","res","setAuthStorage","_jsxs","Button","type","size","onClick","src","GunDamImg","alt","MainContent","Outlet","Login","lazy","Main","Project","Application","User","Role","Menu","Images","Editor","applicationChildren","path","id","element","Slow","Home","loader","Response","JSON","stringify","some","status","trimRequestInterceptors","config","method","trimObjectValues","params","deleteEmptyProperty","Promise","reject","timeout","responseType","headers","baseURL","process","axios","_$axios$interceptors$","interceptors","request","use","_toConsumableArray","token","getToken","Authorization","response","_res$data","_res$data2","code","message","notification","_error$response","replace","resData","key","SLOW_AUTH_TOKEN","SLOW_USER","localStorage","getItem","parse","access_token","setItem","setUserStorage","removeItem","syncStorageWithChild","iframeDom","contentWindow","even","Object","keys","forEach","trim","initListId","list","regStrs","length","undefined","map","item","index","_objectSpread","_defineProperty","Array","isArray","reduce","idStr"],"sourceRoot":""}