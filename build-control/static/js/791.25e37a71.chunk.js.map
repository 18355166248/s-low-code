{"version":3,"file":"static/js/791.25e37a71.chunk.js","mappings":"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","sources":["stores/appStore.types.ts","stores/AppStore.ts","App.tsx","reportWebVitals.ts","bootstrap.tsx","components/Loading/FullScreenLoading.tsx","constants/index.ts","pages/Auth/AuthContext.tsx","services/login.ts","pages/Home/Content/index.tsx","pages/Home/index.tsx","pages/Slow/index.tsx","router/index.tsx","services/$axios.config.ts","services/$axios.ts","utils/auth.ts","utils/common.ts"],"sourcesContent":["import { types } from \"mobx-state-tree\";\n\nexport const USER_INFO = types.model({\n  name: types.optional(types.string, \"用户名\"),\n});\n","import { types } from \"mobx-state-tree\";\nimport { USER_INFO } from \"./appStore.types\";\n\nexport const AppStore = types\n  .model(\"AppStore\", {\n    userInfo: USER_INFO,\n  })\n  .volatile(() => ({}))\n  .views((self: any) => ({\n    // 判断是否是运营\n    get getIsOperate() {\n      return self.userInfo?.bizRoles?.includes(2);\n    },\n  }))\n  .actions((self: any) => ({\n    setOpenKeys(data: any[]) {\n      self.openKeys = data;\n    },\n    afterCreate() {\n      // console.log(\"appStore afterCreate\");\n    },\n    beforeDestroy() {\n      // console.log(\"appStore beforeDestroy\");\n    },\n  }));\n","import \"./App.css\";\nimport { createBrowserRouter, RouterProvider } from \"react-router-dom\";\nimport { Provider } from \"mobx-react\";\nimport { AppStore } from \"@/stores/AppStore\";\nimport { ConfigProvider } from \"antd\";\nimport { routes } from \"./router\";\nimport { Suspense } from \"react\";\nimport FullScreenLoading from \"./components/Loading/FullScreenLoading\";\nimport zhCN from \"antd/locale/zh_CN\";\n\nconst app = AppStore.create({ userInfo: { name: \"\" } });\n\nconst router = createBrowserRouter(routes);\n\nfunction App() {\n  return (\n    <Provider app={app}>\n      <ConfigProvider componentSize=\"middle\" locale={zhCN}>\n        <Suspense fallback={<FullScreenLoading />}>\n          <RouterProvider router={router} />\n        </Suspense>\n      </ConfigProvider>\n    </Provider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"@/assets/styles/common.scss\";\nimport \"@/assets/iconfont/iconfont.css\";\nimport \"./initServiceWorker\";\n\nconst root = ReactDOM.createRoot(\n  document.getElementById(\"root\") as HTMLElement\n);\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { Spin } from \"antd\";\nimport { FC } from \"react\";\nimport { createPortal } from \"react-dom\";\n\ninterface FullScreenLoadingProps {}\n\nconst FullScreenLoading: FC<FullScreenLoadingProps> = () => {\n  return createPortal(\n    <div className=\"w-full h-full flex justify-center items-center\">\n      <Spin />\n    </div>,\n    document.body\n  );\n};\n\nexport default FullScreenLoading;\n","export const previewIframeId = \"previewIframeId511\";\n","import { signIn, signOut } from \"@/services/login\";\nimport { LOGIN_DTO } from \"@/services/types/login\";\nimport {\n  setAuthStorage,\n  removeAuthStorage,\n  getUserStorage,\n} from \"@/utils/auth\";\nimport { createContext, useContext, useEffect, useRef, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\ninterface AuthContextType {\n  user: any;\n  signin: (user: LOGIN_DTO[\"params\"]) => Promise<LOGIN_DTO[\"Response\"]>;\n  signout: () => void;\n}\n\nconst AuthContext = createContext<AuthContextType>(null!);\n\nfunction useAuth() {\n  return useContext(AuthContext);\n}\n// 是否已登录\nconst isLogin = () => getUserStorage();\n\nfunction AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<LOGIN_DTO[\"Response\"][\"user\"]>(null!);\n  const loadingRef = useRef(false);\n  const navigate = useNavigate();\n\n  const notLoginPage = window.location.pathname !== \"/login\";\n\n  useEffect(() => {\n    const storageUser = getUserStorage();\n    storageUser && setUser(storageUser);\n    if (!storageUser && !loadingRef.current && notLoginPage) {\n      signout();\n    }\n  }, []);\n\n  let signin = (user: LOGIN_DTO[\"params\"]) => {\n    return signIn(user).then((res) => {\n      setAuthStorage(res);\n      setUser(res.user);\n      return res;\n    });\n  };\n\n  let signout = () => {\n    loadingRef.current = true;\n    return signOut({ userName: user?.userName })\n      .then(() => {\n        setUser(null!);\n        removeAuthStorage();\n        if (notLoginPage) {\n          navigate(\"/login\");\n        }\n      })\n      .finally(() => {\n        loadingRef.current = false;\n      });\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, signin, signout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\nexport { AuthContext, AuthProvider, useAuth, isLogin };\n","import $axios from \"./$axios\";\nimport { LOGIN_DTO } from \"./types/login\";\n\nexport function signIn(\n  data: LOGIN_DTO[\"params\"]\n): Promise<LOGIN_DTO[\"Response\"]> {\n  return $axios.post(\"/auth/signIn\", data);\n}\n\nexport function signOut(data: Pick<LOGIN_DTO[\"params\"], \"userName\">) {\n  return $axios.post(\"/auth/signOut\", data);\n}\n","import { Button } from \"antd\";\nimport { FC } from \"react\";\nimport GunDamImg from \"@/assets/images/main/gundam.jpeg\";\n\nimport \"./index.scoped.scss\";\nimport { useNavigate } from \"react-router-dom\";\n\ninterface MainContentProps {}\n\nconst MainContent: FC<MainContentProps> = () => {\n  const navigate = useNavigate();\n\n  function goApplication() {\n    navigate(\"/application/project\");\n  }\n\n  return (\n    <div className=\"bg-blue-50 relative content grow shrink basis-full flex\">\n      <div className=\"left\">\n        <div className=\"operate mt-20 mx-20 bg-white rounded-3xl inline-flex flex-col  items-left pl-10 pr-20 pt-10 pb-20\">\n          <div className=\"mb-10\">\n            <h3 className=\"text-2xl\">SLow低代码</h3>\n          </div>\n          <div className=\"flex\">\n            <Button\n              type=\"primary\"\n              size=\"large\"\n              className=\"mr-4\"\n              onClick={goApplication}\n            >\n              开始使用\n            </Button>\n            <Button size=\"large\">操作指南</Button>\n          </div>\n        </div>\n      </div>\n      <div className=\"right pr-20 pt-20\">\n        <img src={GunDamImg} alt=\"\" />\n      </div>\n    </div>\n  );\n};\n\nexport default MainContent;\n","import MainContent from \"./Content\";\n\nfunction Home() {\n  return <MainContent />;\n}\n\nexport default Home;\n","import { FC } from \"react\";\nimport { Outlet } from \"react-router-dom\";\nimport { AuthProvider } from \"../Auth/AuthContext\";\n\ninterface SlowProps {}\n\nconst Slow: FC<SlowProps> = () => {\n  return (\n    <AuthProvider>\n      <Outlet />\n    </AuthProvider>\n  );\n};\n\nexport default Slow;\n","import Home from \"@/pages/Home\";\nimport Slow from \"@/pages/Slow\";\nimport { lazy } from \"react\";\nimport { RouteObject } from \"react-router-dom\";\n\nconst Login = lazy(() => import(\"@/pages/Login\"));\n\nconst Main = lazy(() => import(\"@/pages/Main\"));\n\nconst Project = lazy(() => import(\"@/pages/Project/indexProject\"));\nconst Application = lazy(() => import(\"@/pages/Application\"));\nconst User = lazy(() => import(\"@/pages/User/indexUser\"));\nconst Role = lazy(() => import(\"@/pages/Role/indexRole\"));\nconst Menu = lazy(() => import(\"@/pages/Menu/indexMenu\"));\nconst Images = lazy(() => import(\"@/pages/Images/indexImages\"));\nconst RemoteComp = lazy(() => import(\"@/pages/RemoteComp/indexRemoteComp\"));\n\nconst Editor = lazy(() => import(\"@/pages/Editor\"));\n\n// 应用页面路由/菜单\ntype appInterface = RouteObject & {\n  name?: string;\n};\nexport const applicationChildren: appInterface[] = [\n  {\n    path: \"project\",\n    id: \"/application/project\",\n    name: \"项目管理\",\n    element: <Project />,\n  },\n  {\n    path: \"user\",\n    id: \"/application/user\",\n    name: \"用户管理\",\n    element: <User />,\n  },\n  {\n    path: \"role\",\n    id: \"/application/role\",\n    name: \"角色管理\",\n    element: <Role />,\n  },\n  {\n    path: \"menu\",\n    id: \"/application/menu\",\n    name: \"菜单管理\",\n    element: <Menu />,\n  },\n  {\n    path: \"images\",\n    id: \"/application/images\",\n    name: \"图片管理\",\n    element: <Images />,\n  },\n  {\n    path: \"remoteComp\",\n    id: \"/application/remoteComp\",\n    name: \"远程组件\",\n    element: <RemoteComp />,\n  },\n];\n\nexport const routes: RouteObject[] = [\n  {\n    path: \"/\",\n    element: <Slow />,\n    children: [\n      {\n        path: \"login\",\n        element: <Login />,\n      },\n      {\n        path: \"\",\n        element: <Main />,\n        children: [\n          {\n            path: \"home\",\n            element: <Home />,\n          },\n          {\n            path: \"application\",\n            element: <Application />,\n            children: applicationChildren as RouteObject[],\n          },\n          {\n            path: \"/editor/:id\",\n            element: <Editor />,\n            loader: () => {\n              const data = { some: \"thing\" };\n              return new Response(JSON.stringify(data), {\n                status: 200,\n              });\n            },\n          },\n        ],\n      },\n    ],\n  },\n];\n","import { deleteEmptyProperty, trimObjectValues } from '@/utils/common';\n\nexport const trimRequestInterceptors: [any, any] = [\n  (config: any) => {\n    if (config.method === 'get') {\n      trimObjectValues(config.params);\n      deleteEmptyProperty(config.params);\n    } else if (config.method === 'post') {\n      trimObjectValues(config.data);\n      deleteEmptyProperty(config.data);\n    }\n    return config;\n  },\n  (error: any) => {\n    return Promise.reject(error);\n  },\n];\n","import axios, { AxiosRequestConfig } from \"axios\";\nimport { notification } from \"antd\";\nimport { trimRequestInterceptors } from \"./$axios.config\";\nimport { getToken, removeAuthStorage } from \"@/utils/auth\";\n\nconst config: AxiosRequestConfig = {\n  timeout: 5 * 1000, // 超时设置(单位毫秒)，无超时时间设置为 0。\n  responseType: \"json\", // 响应的数据格式：json/blob/document/arraybuffer/text/stream\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n  baseURL: `${process.env.REACT_APP_BASE_URL}/api/v1`,\n};\n\nconst $axios = axios.create(config);\n\n$axios.interceptors.request.use(...trimRequestInterceptors);\n\n$axios.interceptors.request.use(\n  (config) => {\n    const token = getToken();\n\n    (config.headers as any).Authorization = \"Bearer \" + token;\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n$axios.interceptors.response.use(\n  (res) => {\n    if (res.data?.code !== 200) {\n      res.data.message &&\n        notification.error({\n          message: res.data.message,\n        });\n      return Promise.reject(res.data.message);\n    }\n\n    return res.data?.data;\n  },\n  (error) => {\n    if (error?.response?.status === 401) {\n      removeAuthStorage();\n      window.location.replace(\"/login\");\n\n      return Promise.reject(error);\n    }\n    const resData = error?.response.data;\n    if (resData) {\n      resData.message &&\n        notification.error({\n          key: resData.message,\n          message: resData.message,\n        });\n    }\n\n    return Promise.reject(error);\n  }\n);\n\nexport default $axios;\n","import { previewIframeId } from \"@/constants\";\nimport { LOGIN_DTO } from \"@/services/types/login\";\n\nconst SLOW_AUTH_TOKEN = \"SLOW_AUTH_TOKEN\";\nconst SLOW_USER = \"SLOW_USER\";\n\nfunction setToken(token: string) {\n  localStorage.setItem(SLOW_AUTH_TOKEN, token);\n}\n\nexport function getToken() {\n  return localStorage.getItem(SLOW_AUTH_TOKEN);\n}\n\nexport function removeToken() {\n  return localStorage.removeItem(SLOW_AUTH_TOKEN);\n}\n\nfunction setUserStorage({ user }: LOGIN_DTO[\"Response\"]) {\n  localStorage.setItem(SLOW_USER, JSON.stringify(user));\n}\n\nexport function getUserStorage() {\n  return JSON.parse(localStorage.getItem(SLOW_USER) || \"null\");\n}\n\nexport function removeUserStorage() {\n  return localStorage.removeItem(SLOW_USER);\n}\n\nexport function setAuthStorage(res: LOGIN_DTO[\"Response\"]) {\n  setToken(res.access_token);\n  setUserStorage(res);\n}\n\nexport function removeAuthStorage() {\n  removeToken();\n  removeUserStorage();\n}\n\n// 同步token给子应用\nexport function syncStorageWithChild() {\n  const iframeDom = document.getElementById(previewIframeId);\n  (iframeDom as any)?.contentWindow.postMessage(\n    {\n      even: \"updateToken\",\n      params: getToken(),\n    },\n    \"*\"\n  );\n}\n","export function trimObjectValues(params: any) {\n  params instanceof Object &&\n    Object.keys(params).forEach((key) => {\n      if (typeof params[key] === \"string\") {\n        params[key] = params[key].trim();\n      }\n    });\n}\n\nexport function initListId(list: any[], regStrs?: string[], key = \"id\") {\n  return list.map((item, index) => ({\n    ...item,\n    [key]: Array.isArray(regStrs)\n      ? regStrs.reduce(\n          (idStr: string, key: string) => idStr + (item[key] || key),\n          \"\"\n        )\n      : index + 1,\n  }));\n}\n\nexport function initListIndex(\n  list: any[],\n  regStrs?: string[],\n  key: string = \"id\"\n) {\n  return list.map((item, index) => ({\n    ...item,\n    [key]: Array.isArray(regStrs)\n      ? regStrs.reduce(\n          (idStr: string, key: string) => idStr + (item[key] || key),\n          \"\"\n        )\n      : index,\n  }));\n}\n\nexport function initListIdWithPagination(list: any[], pagination: any) {\n  const { pageNum, pageSize } = pagination;\n  return list.map((item, index) => ({\n    id: (pageNum - 1) * pageSize + index + 1,\n    ...item,\n  }));\n}\n\nexport function initListIdWithChannelType(list: any[]) {\n  return list.map((item) => ({\n    id: item.channelTypeId + item.itemId,\n    ...item,\n  }));\n}\n\nexport function queryParams() {\n  let search = window.location.search;\n  search = search[0] === \"?\" ? search.substring(1) : search;\n  const query = search.split(\"&\");\n\n  return query.reduce((obj: any, item: string) => {\n    const [key, value] = item.split(\"=\");\n    obj[key] = value;\n    return obj;\n  }, {});\n}\n\nexport function deleteEmptyProperty(params: any) {\n  params instanceof Object &&\n    Object.keys(params).forEach((key) => {\n      const value = params[key];\n      if (\n        value === undefined ||\n        value === null ||\n        (typeof value === \"string\" && value.trim() === \"\")\n      ) {\n        delete params[key];\n      }\n    });\n}\n\nexport function deleteEmptyPropertyFromArray(list: any[]) {\n  if (!Array.isArray(list)) return;\n  list.forEach((v: any) => {\n    deleteEmptyProperty(v);\n  });\n}\n\n// 清空缓存\nexport function clearLocalStorage() {\n  localStorage.clear();\n}\n"],"names":["USER_INFO","types","model","name","optional","string","AppStore","userInfo","volatile","views","self","getIsOperate","_self$userInfo","_self$userInfo$bizRol","bizRoles","includes","actions","setOpenKeys","data","openKeys","afterCreate","beforeDestroy","app","create","router","createBrowserRouter","routes","_jsx","Provider","children","ConfigProvider","componentSize","locale","zhCN","Suspense","fallback","FullScreenLoading","RouterProvider","onPerfEntry","Function","then","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","render","React","App","reportWebVitals","createPortal","className","Spin","body","previewIframeId","AuthContext","createContext","useAuth","useContext","isLogin","getUserStorage","AuthProvider","_useState","useState","_useState2","_slicedToArray","user","setUser","loadingRef","useRef","navigate","useNavigate","notLoginPage","window","location","pathname","useEffect","storageUser","current","signout","userName","$axios","post","removeAuthStorage","finally","value","signin","res","setAuthStorage","_jsxs","Button","type","size","onClick","src","GunDamImg","alt","MainContent","Outlet","Login","lazy","Main","Project","Application","User","Role","Menu","Images","RemoteComp","Editor","applicationChildren","path","id","element","Slow","Home","loader","Response","JSON","stringify","some","status","trimRequestInterceptors","config","method","trimObjectValues","params","deleteEmptyProperty","error","Promise","reject","timeout","responseType","headers","baseURL","concat","process","axios","_$axios$interceptors$","interceptors","request","use","apply","_toConsumableArray","token","getToken","Authorization","response","_res$data","_res$data2","code","message","notification","_error$response","replace","resData","key","SLOW_AUTH_TOKEN","SLOW_USER","localStorage","getItem","parse","access_token","setItem","setUserStorage","removeItem","syncStorageWithChild","iframeDom","contentWindow","postMessage","even","Object","keys","forEach","trim","initListId","list","regStrs","arguments","length","undefined","map","item","index","_objectSpread","_defineProperty","Array","isArray","reduce","idStr"],"sourceRoot":""}