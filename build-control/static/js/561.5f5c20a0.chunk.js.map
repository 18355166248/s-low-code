{"version":3,"file":"static/js/561.5f5c20a0.chunk.js","mappings":"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","sources":["utils/index.ts","pages/Editor/index.store.ts","pages/Editor/ItemTypes.ts","pages/Editor/comp/Left/DragItem.tsx","pages/Editor/comp/Left/DragPanel.tsx","pages/Editor/schema/fields/index.tsx","pages/Editor/comp/Left/index.tsx","pages/Editor/comp/Right/fields/comps/Input.tsx","pages/Editor/comp/Right/fields/index.tsx","pages/Editor/schema/edit/index.tsx","webpack://s-low-control/./src/components/EditTitle/index.module.scss?88e9","components/EditTitle/index.tsx","pages/Editor/comp/Right/index.tsx","webpack://s-low-control/./src/components/PhoneContainer/index.module.scss?4ff7","components/PhoneContainer/index.tsx","webpack://s-low-control/./src/pages/Editor/comp/CenterCanvasIframe/index.module.scss?9d8a","webpack://s-low-control/./src/pages/Editor/comp/CenterCanvasIframe/comp/FloatTab/index.module.scss?8f77","pages/Editor/comp/CenterCanvasIframe/comp/FloatTab/index.tsx","pages/Editor/comp/CenterCanvasIframe/PageLayer.tsx","pages/Editor/comp/CenterCanvasIframe/index.tsx","pages/Editor/comp/EditorHeader/HeaderLeft/index.tsx","pages/Editor/comp/EditorHeader/HeaderRight/OpenLine/index.tsx","webpack://s-low-control/./src/pages/Editor/comp/EditorHeader/HeaderRight/Preview/index.module.scss?a06b","pages/Editor/comp/EditorHeader/HeaderRight/Preview/IframeHtml.tsx","pages/Editor/comp/EditorHeader/HeaderRight/Preview/index.tsx","pages/Editor/comp/EditorHeader/HeaderRight/Save/index.tsx","pages/Editor/comp/EditorHeader/HeaderRight/ShowCode/generateCode.ts","pages/Editor/comp/EditorHeader/HeaderRight/ShowCode/CodeDetail.tsx","pages/Editor/comp/EditorHeader/HeaderRight/ShowCode/index.tsx","pages/Editor/comp/EditorHeader/HeaderRight/index.tsx","pages/Editor/comp/EditorHeader/index.tsx","pages/Editor/index.tsx","services/project.ts"],"sourcesContent":["// 深度优先遍历\r\nfunction dfs<T extends { children?: T[] }>(data: T, fn: (param: T) => boolean) {\r\n  if (fn(data) === false) return false;\r\n\r\n  if (Array.isArray(data?.children)) {\r\n    for (let i = data.children.length - 1; i >= 0; i--) {\r\n      if (!dfs(data.children[i], fn)) return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\n// 广度优先遍历\r\nfunction bfs<T extends { children?: T[] }>(data: T, fn: (param: T) => boolean) {\r\n  if (Array.isArray(data?.children)) {\r\n    for (let i = data.children.length - 1; i >= 0; i--) {\r\n      if (!dfs(data.children[i], fn)) return false;\r\n    }\r\n  }\r\n\r\n  if (fn(data) === false) return false;\r\n\r\n  return true;\r\n}\r\n\r\nexport { dfs, bfs };\r\n","import { types } from \"mobx-state-tree\";\r\nimport { FieldNode } from \"./schema/types\";\r\nimport { dfs } from \"@/utils\";\r\nimport { syncStorageWithChild } from \"@/utils/auth\";\r\n\r\nexport interface FieldNodeSchema extends FieldNode {\r\n  id: string;\r\n  children: FieldNodeSchema[];\r\n}\r\n\r\nexport interface State\r\n  extends Omit<FieldNodeSchema, \"type\" | \"iconfont\" | \"name\"> {\r\n  focusId?: string;\r\n  type: \"\";\r\n}\r\n\r\nconst initialValue: State = {\r\n  id: \"root\",\r\n  props: {},\r\n  type: \"\",\r\n  children: [],\r\n};\r\n\r\nexport const EditStore = types\r\n  .model(\"EditStore\", {\r\n    refreshId: types.optional(types.number, 0),\r\n    rightRefreshId: types.optional(types.number, 0),\r\n  })\r\n  .volatile(() => ({\r\n    codeTree: initialValue,\r\n    selectId: \"\",\r\n    isDragging: false,\r\n    iframeRef: { current: null },\r\n    selectedComp: {},\r\n    project: {}, // 项目信息\r\n    isChildInit: false, // 预览项目是否初始化成功\r\n  }))\r\n  .views((self: any) => ({\r\n    get rootCode() {\r\n      return self.codeTree;\r\n    },\r\n  }))\r\n  .actions((self: any) => ({\r\n    setProject(info: any) {\r\n      self.project = info;\r\n    },\r\n    setCodeTree(code: any) {\r\n      self.codeTree = code;\r\n    },\r\n    setIsDragging(bool: boolean) {\r\n      self.isDragging = bool;\r\n    },\r\n    refresh() {\r\n      self.refreshId += 1;\r\n    },\r\n    refreshRight() {\r\n      self.rightRefreshId += 1;\r\n    },\r\n    setSelectId(id: string) {\r\n      self.selectId = id;\r\n      self.updateSelectedComp();\r\n    },\r\n    updateSelectedComp() {\r\n      dfs(self.codeTree, (curField: FieldNodeSchema) => {\r\n        if (curField.id === self.selectId) {\r\n          self.setSelectedComp(curField);\r\n          return false;\r\n        }\r\n        return true;\r\n      });\r\n    },\r\n    setSelectedComp(comp: any) {\r\n      self.selectedComp = comp;\r\n    },\r\n    setIframeRef(ref: { current: any }) {\r\n      self.iframeRef = ref;\r\n    },\r\n    updateSelected({ key, value }: { key: string; value: any }) {\r\n      dfs(self.codeTree, (curField: FieldNodeSchema) => {\r\n        if (curField.id === self.selectId) {\r\n          curField.props[key] = value;\r\n          self.setSelectedComp({ ...curField });\r\n          return false;\r\n        }\r\n        return true;\r\n      });\r\n\r\n      self.postMessageIframe();\r\n    },\r\n    removeCom(parentId: string, hoverIndex: number) {\r\n      dfs(self.codeTree, (curField: FieldNodeSchema) => {\r\n        if (curField.id === parentId) {\r\n          curField.children.splice(hoverIndex, 1);\r\n\r\n          return false;\r\n        }\r\n        return true;\r\n      });\r\n\r\n      self.postMessageIframe();\r\n    },\r\n    postMessageIframe() {\r\n      (self.iframeRef.current as any)?.contentWindow.postMessage(\r\n        {\r\n          even: \"updateCodeTree\",\r\n          params: self.codeTree,\r\n        },\r\n        \"*\"\r\n      );\r\n    },\r\n\r\n    initIframe() {\r\n      if (self.codeTree.children.length && self.isChildInit) {\r\n        this.postMessageIframe();\r\n      }\r\n    },\r\n\r\n    getChildMessage(e: any) {\r\n      const { data = {} } = e;\r\n      const { type } = data;\r\n      switch (type) {\r\n        case \"preview-init-success\":\r\n          self.isChildInit = true;\r\n          syncStorageWithChild(); // 同步token给子应用\r\n          self.initIframe();\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n    afterCreate() {\r\n      // console.log(\"EditStore afterCreate\");\r\n    },\r\n    beforeDestroy() {\r\n      // console.log(\"EditStore beforeDestroy\");\r\n    },\r\n  }));\r\n","export const CARD = \"CARD\";\r\n","import { FieldNode } from \"../../schema/types\";\r\nimport { useDrag } from \"react-dnd\";\r\nimport { CARD } from \"../../ItemTypes\";\r\nimport cl from \"classnames\";\r\nimport { inject, observer } from \"mobx-react\";\r\n\r\ninterface Props {\r\n  data: FieldNode;\r\n  edit?: any;\r\n}\r\n\r\nfunction DragItem(props: Props) {\r\n  const { data, edit } = props;\r\n  const { setIsDragging } = edit;\r\n\r\n  const [{ isDragging }, dragRef] = useDrag(() => {\r\n    return {\r\n      type: CARD,\r\n      item: { data },\r\n      collect: (monitor) => {\r\n        const isDragging = monitor.isDragging();\r\n        setIsDragging(isDragging);\r\n        return {\r\n          isDragging,\r\n        };\r\n      },\r\n      end() {\r\n        // console.log(\"end\");\r\n      },\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div\r\n      ref={dragRef}\r\n      className={cl(\r\n        \"p-2 text-center text-gray-600 cursor-move hover:bg-gray-100  hover:text-gray-900\",\r\n        {\r\n          \"opacity-50\": isDragging,\r\n        }\r\n      )}\r\n    >\r\n      <div className=\"mb-2\">\r\n        <span className={`iconfont ${data.iconfont}`}></span>\r\n      </div>\r\n      <div>{data.name}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default inject(\"edit\")(observer(DragItem));\r\n","import { Col, Row } from \"antd\";\r\nimport { FieldNode } from \"../../schema/types\";\r\nimport DragItem from \"./DragItem\";\r\n\r\ninterface Props {\r\n  data: FieldNode[];\r\n}\r\n\r\nfunction DragPanel(props: Props) {\r\n  const { data } = props;\r\n  return (\r\n    <div className=\"py-6 px-4\">\r\n      <Row gutter={15}>\r\n        {data.map((item) => (\r\n          <Col span={12} key={item.type}>\r\n            <DragItem data={item} />\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DragPanel;\r\n","import DragPanel from \"../../comp/Left/DragPanel\";\r\nimport { MenuType } from \"../types\";\r\nimport fields from \"remote/fields\";\r\nimport { FieldNode } from \"s-low-components\";\r\n\r\nconst menus: MenuType[] = [\r\n  {\r\n    key: \"base\",\r\n    panel: <DragPanel data={fields as FieldNode[]} />,\r\n  },\r\n];\r\n\r\nexport default menus;\r\n","import React, { Fragment } from \"react\";\r\nimport menus from \"../../schema/fields\";\r\n\r\nfunction Left() {\r\n  return (\r\n    <div style={{ width: 221 }}>\r\n      {menus.map((menu) => {\r\n        return <Fragment key={menu.key}>{menu.panel}</Fragment>;\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Left;\r\n","import { Input } from \"antd\";\r\nimport React, { ReactElement } from \"react\";\r\n\r\ninterface Props {\r\n  onChange: (value: string) => void;\r\n  value: any;\r\n}\r\nfunction InputCustom({ onChange, value }: Props): ReactElement {\r\n  return <Input value={value} onChange={(e) => onChange(e.target.value)} />;\r\n}\r\n\r\nexport default InputCustom;\r\n","import InputCustom from \"./comps/Input\";\r\n\r\nexport const Fields = {\r\n  Input: InputCustom,\r\n  title: \"\",\r\n};\r\n","import editData from \"remote/edit\";\r\nimport { EditFieldType } from \"s-low-components\";\r\n\r\nconst data = {\r\n  ...(editData as EditFieldType),\r\n};\r\n\r\nexport default data;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapLabel\":\"EditTitle_wrapLabel__Mlixl\"};","import React, { FC } from \"react\";\r\nimport styles from \"./index.module.scss\";\r\n\r\ninterface Props {\r\n  name?: string;\r\n}\r\n\r\nconst EditTitle: FC<Props> = ({ name }) => {\r\n  return (\r\n    <div className={styles.wrapLabel}>\r\n      <span>{name}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditTitle;\r\n","import { inject, observer } from \"mobx-react\";\r\nimport { useEffect } from \"react\";\r\nimport { editKey, Field } from \"../../schema/types\";\r\nimport { Fields } from \"./fields\";\r\nimport editField from \"../../schema/edit\";\r\nimport EditTitle from \"@/components/EditTitle\";\r\n// import \"antd/dist/antd.css\"; // TODO 因为组件仓库没有打包antd的css 所以这里全量引入\r\n\r\nfunction Right({ edit }: any) {\r\n  const { selectedComp, updateSelected, setCodeTree, setSelectId } = edit;\r\n\r\n  const { list = [], subLabelWidth = 70 } =\r\n    editField[selectedComp.type as editKey] || {};\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"message\", setSelected);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"message\", setSelected);\r\n    };\r\n  }, []);\r\n\r\n  const renderField = (item: Field) => {\r\n    const { key, name, type, ...other } = item;\r\n    const Comp = Fields[type] as any;\r\n    return (\r\n      <Comp\r\n        {...other}\r\n        value={selectedComp?.props[key]}\r\n        onChange={(value: any) => handlerChange(key, value)}\r\n      />\r\n    );\r\n  };\r\n\r\n  function setSelected(e: any) {\r\n    const { data = {} } = e;\r\n    const { type, params } = data;\r\n    if (params) {\r\n      switch (type) {\r\n        case \"updateCodeTree\":\r\n          setCodeTree(params);\r\n          break;\r\n        case \"selectId\":\r\n          setSelectId(params);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  function handlerChange(key: string, value: string) {\r\n    updateSelected({\r\n      key,\r\n      value,\r\n    });\r\n  }\r\n\r\n  // 渲染编辑属性组件\r\n  function renderSetting(editSettingList: any[]) {\r\n    return editSettingList.map((item) => {\r\n      const { key, name, children, type, component: Com } = item;\r\n      switch (type) {\r\n        case \"title\":\r\n          return (\r\n            <div key={key}>\r\n              <EditTitle key={key} {...item} />\r\n              <div className=\"px-4 py-5\">\r\n                {Array.isArray(children) && renderSetting(children)}\r\n              </div>\r\n            </div>\r\n          );\r\n\r\n        case \"custom\":\r\n          return (\r\n            <div key={key} className=\"flex items-center mb-2\">\r\n              <div style={{ width: subLabelWidth }}>{name}</div>\r\n              <div className=\"ml-2 flex-1\">\r\n                {Com ? (\r\n                  <Com\r\n                    {...item}\r\n                    value={selectedComp?.props[key]}\r\n                    onChange={(value: any) => handlerChange(key, value)}\r\n                  />\r\n                ) : (\r\n                  renderField(item)\r\n                )}\r\n              </div>\r\n            </div>\r\n          );\r\n\r\n        default:\r\n          return (\r\n            <div key={key} className=\"flex items-center mb-2\">\r\n              <div style={{ width: subLabelWidth }}>{name}</div>\r\n              <div className=\"ml-2 flex-1\">{renderField(item)}</div>\r\n            </div>\r\n          );\r\n      }\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-80 overflow-y-scroll\">\r\n      <div className=\"h-6 leading-6 text-center font-medium border-b py-4\">\r\n        属性设置\r\n      </div>\r\n      <div className=\"text-xs\">{selectedComp.type && renderSetting(list)}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default inject(\"edit\")(observer(Right));\r\n","// extracted by mini-css-extract-plugin\nexport default {\"ctn\":\"PhoneContainer_ctn__X3Zou\",\"ctnHead\":\"PhoneContainer_ctnHead__8snkh\",\"ctnBody\":\"PhoneContainer_ctnBody__4csl5\",\"ctnHeightTag\":\"PhoneContainer_ctnHeightTag__vz6rY\"};","import React from \"react\";\r\nimport styles from \"./index.module.scss\";\r\n\r\nfunction PhoneContainer({ children }: any) {\r\n  return (\r\n    <div className={styles.ctn}>\r\n      <div className={styles.ctnHead}></div>\r\n      <div className={styles.ctnBody}>{children}</div>\r\n      <div className={styles.ctnHeightTag}>\r\n        <span>iPhone 8手机高度</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PhoneContainer;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"phoneBody\":\"CenterCanvasIframe_phoneBody__IOusV\",\"iframe\":\"CenterCanvasIframe_iframe__Vm4k8\",\"pageLayer\":\"CenterCanvasIframe_pageLayer__yIXlO\"};","// extracted by mini-css-extract-plugin\nexport default {\"floatTab\":\"FloatTab_floatTab__CAEvs\"};","import React, { FC } from \"react\";\r\nimport styles from \"./index.module.scss\";\r\nimport cs from \"classnames\";\r\n\r\ninterface Props {\r\n  name: string;\r\n  isSelected: boolean;\r\n  onDelete(): void;\r\n}\r\n\r\nconst FloatTab: FC<Props> = ({ name, isSelected, onDelete }) => {\r\n  return (\r\n    <div className={cs(\"absolute\", styles.floatTab)}>\r\n      {isSelected ? (\r\n        <span\r\n          onClick={onDelete}\r\n          className=\"iconfont slow-shanchusekuai cursor-pointer text-gray-400 hover:text-gray-500\r\n\"\r\n        ></span>\r\n      ) : (\r\n        <span>{name}</span>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FloatTab;\r\n","import { inject, observer } from \"mobx-react\";\r\nimport React, { FC } from \"react\";\r\nimport FloatTab from \"./comp/FloatTab\";\r\nimport styles from \"./index.module.scss\";\r\n\r\ninterface Props {\r\n  drop: any;\r\n}\r\n\r\nconst PageLayer: FC<Props> = ({ edit, drop }: any) => {\r\n  const { isDragging, codeTree, selectId, removeCom } = edit;\r\n  // 中间预览的组件列表\r\n  const { children: compChildren = [] } = codeTree;\r\n\r\n  return (\r\n    <div\r\n      ref={drop}\r\n      className={styles.pageLayer}\r\n      style={{ zIndex: isDragging ? 20 : 1 }}\r\n    >\r\n      {compChildren.map((comp: any, index: number) => (\r\n        <div\r\n          className=\"relative\"\r\n          key={comp.id}\r\n          style={{ height: comp.height || 0 }}\r\n        >\r\n          <FloatTab\r\n            isSelected={selectId === comp.id}\r\n            name={comp.name}\r\n            onDelete={() => removeCom(codeTree.id, index)}\r\n          />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default inject(\"edit\")(observer(PageLayer));\r\n","/* eslint-disable jsx-a11y/iframe-has-title */\r\nimport PhoneContainer from \"@/components/PhoneContainer\";\r\nimport { previewIframeId } from \"@/constants\";\r\nimport { inject, observer } from \"mobx-react\";\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { useDrop } from \"react-dnd\";\r\nimport { FieldNodeSchema } from \"../../index.store\";\r\nimport { CARD } from \"../../ItemTypes\";\r\n// import CustomDragLayer from \"../CenterCanvas/CustomDragLayer\";\r\nimport styles from \"./index.module.scss\";\r\nimport PageLayer from \"./PageLayer\";\r\n\r\nfunction CenterCanvasIframe(props: any) {\r\n  const { edit } = props;\r\n  const { setIframeRef } = edit;\r\n\r\n  const iframeRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    setIframeRef(iframeRef);\r\n  }, []);\r\n\r\n  const [{ isOver, canDrop, item }, drop] = useDrop(() => ({\r\n    accept: CARD,\r\n    drop: (\r\n      item: { data: FieldNodeSchema; index?: number; parentId?: string },\r\n      monitor\r\n    ) => {\r\n      const didDrop = monitor.didDrop(); // returns false for direct drop target\r\n      if (didDrop) return;\r\n\r\n      (iframeRef.current as any).contentWindow.postMessage(\r\n        {\r\n          even: \"move\",\r\n          params: item,\r\n        },\r\n        \"*\"\r\n      );\r\n\r\n      return {};\r\n    },\r\n    collect: (monitor) => ({\r\n      isOver: monitor.isOver({\r\n        shallow: true,\r\n      }),\r\n      canDrop: monitor.canDrop(),\r\n      item: monitor.getItem(),\r\n    }),\r\n  }));\r\n\r\n  return (\r\n    <div className=\"flex-1 p-4 overflow-y-scroll bg-indigo-50\">\r\n      <PhoneContainer>\r\n        <div className={styles.phoneBody}>\r\n          <iframe\r\n            ref={iframeRef}\r\n            src={process.env.REACT_APP_PREVIEW_CHILD_URL}\r\n            className={styles.iframe}\r\n            id={previewIframeId}\r\n          />\r\n          {/* 拖拽和iframe交互蒙层 */}\r\n          <PageLayer drop={drop} />\r\n        </div>\r\n      </PhoneContainer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default inject(\"edit\")(observer(CenterCanvasIframe));\r\n","import { inject, observer } from \"mobx-react\";\r\nimport { FC } from \"react\";\r\nimport { ArrowLeftOutlined } from \"@ant-design/icons\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\ninterface HeaderLeftProps {}\r\n\r\nconst HeaderLeft: FC<HeaderLeftProps> = (props: any) => {\r\n  const { edit } = props;\r\n  const { project } = edit;\r\n  const navigate = useNavigate();\r\n\r\n  function goBack() {\r\n    navigate(-1);\r\n  }\r\n\r\n  return (\r\n    <div className=\"inline-flex justify-between items-center h-full pl-6\">\r\n      <ArrowLeftOutlined className=\"cursor-pointer color\" onClick={goBack} />\r\n      <span className=\"ml-2\">{project?.name}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default inject(\"edit\")(observer(HeaderLeft));\r\n","import { Button } from \"antd\";\r\nimport { inject, observer } from \"mobx-react\";\r\nimport { FC } from \"react\";\r\n\r\nconst OpenLine: FC = ({ edit }: any) => {\r\n  const { id } = edit.project;\r\n  function open() {\r\n    window.open(`${process.env.REACT_APP_PREVIEW_CHILD_URL}/preview/${id}`);\r\n  }\r\n  return <Button onClick={open}>在线地址</Button>;\r\n};\r\n\r\nexport default inject(\"edit\")(observer(OpenLine));\r\n","// extracted by mini-css-extract-plugin\nexport default {\"iframe\":\"Preview_iframe__E9pLu\",\"box\":\"Preview_box__+c+Tn\"};","/* eslint-disable jsx-a11y/iframe-has-title */\r\nimport { inject, observer } from \"mobx-react\";\r\nimport React, { useRef } from \"react\";\r\nimport styles from \"./index.module.scss\";\r\n\r\nfunction IframeHtml({ edit }: any) {\r\n  const { project } = edit;\r\n  const { id } = project;\r\n  const iframeRef = useRef(null);\r\n\r\n  return (\r\n    <iframe\r\n      ref={iframeRef}\r\n      src={`${process.env.REACT_APP_PREVIEW_CHILD_URL}/preview/${id}`}\r\n      className={styles.iframe}\r\n    />\r\n  );\r\n}\r\n\r\nexport default inject(\"edit\")(observer(IframeHtml));\r\n","import React, { useState } from \"react\";\r\nimport { Button, Modal } from \"antd\";\r\nimport IframeHtml from \"./IframeHtml\";\r\nimport styles from \"./index.module.scss\";\r\nimport cs from \"classnames\";\r\n\r\ninterface Props {\r\n  className?: string;\r\n}\r\n\r\nfunction PreviewHtml(props: Props) {\r\n  const { className } = props;\r\n  const [visible, setVisible] = useState<any>();\r\n\r\n  function show() {\r\n    setVisible(true);\r\n  }\r\n\r\n  return (\r\n    <div className={className}>\r\n      <Button type=\"primary\" onClick={show}>\r\n        预览\r\n      </Button>\r\n      <Modal\r\n        width={423}\r\n        open={visible}\r\n        destroyOnClose\r\n        onCancel={() => setVisible(false)}\r\n        footer={null}\r\n      >\r\n        <div className={cs(styles.box, \"mt-10\")}>\r\n          <IframeHtml />\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PreviewHtml;\r\n","import { updateProjectCode } from \"@/services/project\";\r\nimport { Button, notification } from \"antd\";\r\nimport { inject, observer } from \"mobx-react\";\r\nimport { FC } from \"react\";\r\n\r\nconst Save: FC = ({ edit }: any) => {\r\n  const { codeTree, project } = edit;\r\n\r\n  function onSave() {\r\n    updateProjectCode({\r\n      ...project,\r\n      code: JSON.stringify(codeTree.children),\r\n    }).then(() => {\r\n      notification.success({ message: \"保存成功\" });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Button type=\"primary\" onClick={onSave}>\r\n      保存\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default inject(\"edit\")(observer(Save));\r\n","import { isArray, isString, map } from \"lodash-es\";\r\nimport { State } from \"../../../../index.store\";\r\n\r\nconst getChildrenCode = (sub: State) => {\r\n  if (isString(sub.props.children)) {\r\n    return sub.props.children;\r\n  }\r\n  return \"\";\r\n};\r\n\r\nexport const generateCode = (state: State) => {\r\n  let module: Record<string, string[]> = {};\r\n\r\n  function render(sub: State): string {\r\n    if (sub.module) {\r\n      if (module[sub.module] && module[sub.module].indexOf(sub.type) === -1) {\r\n        module[sub.module] = [...module[sub.module], sub.type];\r\n      }\r\n      if (!module[sub.module]) {\r\n        module[sub.module] = [sub.type];\r\n      }\r\n    }\r\n\r\n    let props = \"\";\r\n    if (sub.props) {\r\n      Object.keys(sub.props).forEach((key) => {\r\n        if (key !== \"children\" && sub.props[key]) {\r\n          const value = isArray(sub.props[key])\r\n            ? `{${JSON.stringify(sub.props[key])}}`\r\n            : `'${sub.props[key]}'`;\r\n\r\n          props = `${props} ${key}=${value}`;\r\n        }\r\n      });\r\n    }\r\n\r\n    const children =\r\n      sub.children && sub.children.length > 0\r\n        ? map(sub.children, render).join(\"\")\r\n        : getChildrenCode(sub);\r\n    if (children) {\r\n      return `<${sub.type || \"\"}${props}>\r\n        ${children}\r\n      </${sub.type || \"\"}>`;\r\n    } else {\r\n      return `<${sub.type || \"div\"}${props} />`;\r\n    }\r\n  }\r\n\r\n  const code = render(state);\r\n\r\n  let moduleCode = \"\";\r\n  Object.keys(module).forEach((m) => {\r\n    moduleCode += `import {${module[m].join(\",\")}} from '${m}';`;\r\n  });\r\n\r\n  return `import React from 'react';\r\n  ${moduleCode}\r\n\r\n  function App() {\r\n      return (\r\n          ${code}\r\n      );\r\n  }\r\n\r\n  export default App;`;\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport AceEditor from \"react-ace\";\r\nimport { inject, observer } from \"mobx-react\";\r\n\r\nimport \"ace-builds/src-noconflict/mode-javascript\";\r\nimport \"ace-builds/src-noconflict/theme-monokai\";\r\nimport \"ace-builds/src-noconflict/ext-language_tools\";\r\nimport { generateCode } from \"./generateCode\";\r\n\r\nconst myWorker = new Worker(\"./worker.js\");\r\n\r\nfunction CodeDetail(props: any) {\r\n  const { edit } = props;\r\n\r\n  const [code, setCode] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    myWorker.onmessage = function (e) {\r\n      setCode(e.data);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const code = generateCode(edit.codeTree);\r\n    myWorker.postMessage(code);\r\n  }, [edit.codeTree]);\r\n\r\n  return (\r\n    <div>\r\n      <AceEditor\r\n        style={{ width: \"100%\" }}\r\n        mode=\"javascript\"\r\n        theme=\"monokai\"\r\n        name=\"code\"\r\n        height=\"560px\"\r\n        fontSize={16}\r\n        editorProps={{ $blockScrolling: true }}\r\n        value={code}\r\n        readOnly\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default inject(\"edit\")(observer(CodeDetail));\r\n","import React, { useState } from \"react\";\r\nimport { Button, Modal } from \"antd\";\r\nimport CodeDetail from \"./CodeDetail\";\r\n\r\nfunction ShowCode() {\r\n  const [visible, setVisible] = useState<any>();\r\n\r\n  function show() {\r\n    setVisible(true);\r\n  }\r\n  return (\r\n    <div>\r\n      <Button onClick={show}>Code</Button>\r\n      <Modal\r\n        title=\"代码预览\"\r\n        width={800}\r\n        open={visible}\r\n        destroyOnClose\r\n        onCancel={() => setVisible(false)}\r\n        footer={null}\r\n      >\r\n        <CodeDetail />\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ShowCode;\r\n","import { Space } from \"antd\";\r\nimport { FC } from \"react\";\r\nimport OpenLine from \"./OpenLine\";\r\nimport PreviewHtml from \"./Preview\";\r\nimport Save from \"./Save\";\r\nimport ShowCode from \"./ShowCode\";\r\n\r\ninterface HeaderRightProps {}\r\n\r\nconst HeaderRight: FC<HeaderRightProps> = () => {\r\n  return (\r\n    <div className=\"inline-flex justify-between items-center\">\r\n      <Space>\r\n        {/* 实时预览 */}\r\n        <PreviewHtml />\r\n        {/* 展示代码 */}\r\n        <ShowCode />\r\n        {/* 保存 */}\r\n        <Save />\r\n        {/* 打开在线地址 */}\r\n        <OpenLine />\r\n      </Space>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HeaderRight;\r\n","import { FC } from \"react\";\r\nimport HeaderLeft from \"./HeaderLeft\";\r\nimport HeaderRight from \"./HeaderRight\";\r\n\r\ninterface EditorHeaderProps {}\r\n\r\nconst EditorHeader: FC<EditorHeaderProps> = () => {\r\n  return (\r\n    <header className=\"h-10 pr-3 shadow-sm sticky border-b border-gray-200 flex-shrink-0  flex justify-between items-center\">\r\n      <HeaderLeft />\r\n      <HeaderRight />\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default EditorHeader;\r\n","import { Provider } from \"mobx-react\";\r\nimport { EditStore } from \"./index.store\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\nimport { DndProvider } from \"react-dnd\";\r\nimport Left from \"./comp/Left\";\r\nimport Right from \"./comp/Right\";\r\nimport CenterCanvasIframe from \"./comp/CenterCanvasIframe\";\r\nimport { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { getProject } from \"@/services/project\";\r\nimport EditorHeader from \"./comp/EditorHeader\";\r\n\r\nconst editStore = EditStore.create();\r\n\r\nfunction Editor() {\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"message\", editStore.getChildMessage);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"message\", editStore.getChildMessage);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      getProject(id).then((res: any) => {\r\n        const { codeTree, setProject, setCodeTree, initIframe } = editStore;\r\n        setProject(res);\r\n        (codeTree as any).children = JSON.parse(res.code || \"[]\");\r\n        setCodeTree({ ...codeTree });\r\n        initIframe();\r\n      });\r\n    }\r\n  }, [id]);\r\n\r\n  return (\r\n    <DndProvider backend={HTML5Backend}>\r\n      <Provider edit={editStore}>\r\n        <div className=\"flex flex-1 overflow-hidden flex-col text-gray-600 bg-white\">\r\n          <EditorHeader />\r\n\r\n          <main className=\"flex-1 overflow-hidden flex\">\r\n            <Left />\r\n            <CenterCanvasIframe />\r\n            <Right />\r\n          </main>\r\n        </div>\r\n      </Provider>\r\n    </DndProvider>\r\n  );\r\n}\r\n\r\nexport default Editor;\r\n","import $axios from \"./$axios\";\r\nimport {\r\n  DELETE_PROJECT_DTO,\r\n  GET_PROJECT_DTO,\r\n  PROJECT_CODE_DTO,\r\n  PROJECT_DTO,\r\n} from \"./types/project\";\r\n\r\nexport function getProjectList(params: GET_PROJECT_DTO[\"PARAMS\"]) {\r\n  return $axios.get(\"/project\", { params });\r\n}\r\n\r\nexport function getProject(id: string | number) {\r\n  return $axios.get(`/project/${id}`);\r\n}\r\n\r\nexport function createProject(\r\n  data: PROJECT_DTO[\"PARAMS\"]\r\n): Promise<PROJECT_DTO[\"RESPONSE\"]> {\r\n  return $axios.post(\"/project\", data);\r\n}\r\n\r\nexport function updateProject(\r\n  data: PROJECT_DTO[\"PARAMS\"]\r\n): Promise<PROJECT_DTO[\"RESPONSE\"]> {\r\n  return $axios.patch(`/project/${data.id}`, data);\r\n}\r\n\r\nexport function updateProjectCode(\r\n  data: PROJECT_CODE_DTO[\"PARAMS\"]\r\n): Promise<PROJECT_CODE_DTO[\"RESPONSE\"]> {\r\n  return $axios.patch(`/project/code/${data.id}`, data);\r\n}\r\n\r\nexport function deleteProject(data: DELETE_PROJECT_DTO[\"PARAMS\"]) {\r\n  return $axios.delete(`/project/${data.id}`);\r\n}\r\n"],"names":["dfs","data","fn","Array","isArray","children","i","length","initialValue","id","props","type","EditStore","types","model","refreshId","optional","number","rightRefreshId","volatile","codeTree","selectId","isDragging","iframeRef","current","selectedComp","project","isChildInit","views","self","rootCode","actions","setProject","info","setCodeTree","code","setIsDragging","bool","refresh","refreshRight","setSelectId","updateSelectedComp","curField","setSelectedComp","comp","setIframeRef","ref","updateSelected","_ref","key","value","_objectSpread","postMessageIframe","removeCom","parentId","hoverIndex","splice","_self$iframeRef$curre","contentWindow","postMessage","even","params","initIframe","this","getChildMessage","e","_e$data","syncStorageWithChild","afterCreate","beforeDestroy","CARD","inject","observer","edit","_useDrag","useDrag","item","collect","monitor","end","_useDrag2","_slicedToArray","dragRef","_jsxs","className","cl","_jsx","concat","iconfont","name","Row","gutter","map","Col","span","DragItem","panel","DragPanel","fields","style","width","menus","menu","Fragment","Fields","Input","onChange","target","title","editData","styles","_ref2","editField","_ref2$list","list","_ref2$subLabelWidth","subLabelWidth","useEffect","window","addEventListener","setSelected","removeEventListener","renderField","other","_objectWithoutProperties","_excluded","Comp","handlerChange","renderSetting","editSettingList","Com","component","EditTitle","isSelected","onDelete","cs","onClick","drop","_codeTree$children","compChildren","zIndex","index","height","FloatTab","useRef","_useDrop","useDrop","accept","didDrop","isOver","shallow","canDrop","getItem","_useDrop2","_useDrop2$","PhoneContainer","src","process","previewIframeId","PageLayer","navigate","useNavigate","ArrowLeftOutlined","Button","open","_useState","useState","_useState2","visible","setVisible","Modal","destroyOnClose","onCancel","footer","IframeHtml","updateProjectCode","JSON","stringify","then","notification","success","message","generateCode","state","module","render","sub","indexOf","_toConsumableArray","Object","keys","forEach","join","isString","getChildrenCode","moduleCode","m","myWorker","Worker","setCode","onmessage","AceEditor","mode","theme","fontSize","editorProps","$blockScrolling","readOnly","CodeDetail","Space","PreviewHtml","ShowCode","Save","OpenLine","HeaderLeft","HeaderRight","editStore","create","useParams","getProject","res","parse","DndProvider","backend","HTML5Backend","Provider","EditorHeader","Left","CenterCanvasIframe","Right","getProjectList","$axios","get","createProject","post","updateProject","patch"],"sourceRoot":""}