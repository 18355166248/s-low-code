{"version":3,"file":"static/js/561.48fb8c6c.chunk.js","mappings":"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","sources":["utils/index.ts","pages/Editor/index.store.ts","pages/Editor/ItemTypes.ts","pages/Editor/comp/Left/DragItem.tsx","pages/Editor/comp/Left/DragPanel.tsx","pages/Editor/schema/fields/index.tsx","pages/Editor/comp/Left/index.tsx","pages/Editor/comp/Right/fields/comps/Input.tsx","pages/Editor/comp/Right/fields/index.tsx","pages/Editor/schema/edit/index.tsx","webpack://s-low-control/./src/components/EditTitle/index.module.scss?88e9","components/EditTitle/index.tsx","pages/Editor/comp/Right/index.tsx","webpack://s-low-control/./src/components/PhoneContainer/index.module.scss?4ff7","components/PhoneContainer/index.tsx","webpack://s-low-control/./src/pages/Editor/comp/CenterCanvasIframe/index.module.scss?9d8a","webpack://s-low-control/./src/pages/Editor/comp/CenterCanvasIframe/comp/FloatTab/index.module.scss?8f77","pages/Editor/comp/CenterCanvasIframe/comp/FloatTab/index.tsx","pages/Editor/comp/CenterCanvasIframe/PageLayer.tsx","pages/Editor/comp/CenterCanvasIframe/index.tsx","pages/Editor/comp/EditorHeader/HeaderLeft/index.tsx","pages/Editor/comp/EditorHeader/HeaderRight/OpenLine/index.tsx","webpack://s-low-control/./src/pages/Editor/comp/EditorHeader/HeaderRight/Preview/index.module.scss?a06b","pages/Editor/comp/EditorHeader/HeaderRight/Preview/IframeHtml.tsx","pages/Editor/comp/EditorHeader/HeaderRight/Preview/index.tsx","pages/Editor/comp/EditorHeader/HeaderRight/Save/index.tsx","pages/Editor/comp/EditorHeader/HeaderRight/ShowCode/generateCode.ts","pages/Editor/comp/EditorHeader/HeaderRight/ShowCode/CodeDetail.tsx","pages/Editor/comp/EditorHeader/HeaderRight/ShowCode/index.tsx","pages/Editor/comp/EditorHeader/HeaderRight/index.tsx","pages/Editor/comp/EditorHeader/index.tsx","pages/Editor/index.tsx","services/project.ts"],"sourcesContent":["// 深度优先遍历\nfunction dfs<T extends { children?: T[] }>(data: T, fn: (param: T) => boolean) {\n  if (fn(data) === false) return false;\n\n  if (Array.isArray(data?.children)) {\n    for (let i = data.children.length - 1; i >= 0; i--) {\n      if (!dfs(data.children[i], fn)) return false;\n    }\n  }\n\n  return true;\n}\n\n// 广度优先遍历\nfunction bfs<T extends { children?: T[] }>(data: T, fn: (param: T) => boolean) {\n  if (Array.isArray(data?.children)) {\n    for (let i = data.children.length - 1; i >= 0; i--) {\n      if (!dfs(data.children[i], fn)) return false;\n    }\n  }\n\n  if (fn(data) === false) return false;\n\n  return true;\n}\n\nexport { dfs, bfs };\n","import { types } from \"mobx-state-tree\";\nimport { FieldNode } from \"./schema/types\";\nimport { dfs } from \"@/utils\";\nimport { syncStorageWithChild } from \"@/utils/auth\";\n\nexport interface FieldNodeSchema extends FieldNode {\n  id: string;\n  children: FieldNodeSchema[];\n}\n\nexport interface State\n  extends Omit<FieldNodeSchema, \"type\" | \"iconfont\" | \"name\"> {\n  focusId?: string;\n  type: \"\";\n}\n\nconst initialValue: State = {\n  id: \"root\",\n  props: {},\n  type: \"\",\n  children: [],\n};\n\nexport const EditStore = types\n  .model(\"EditStore\", {\n    refreshId: types.optional(types.number, 0),\n    rightRefreshId: types.optional(types.number, 0),\n  })\n  .volatile(() => ({\n    codeTree: initialValue,\n    selectId: \"\",\n    isDragging: false,\n    iframeRef: { current: null },\n    selectedComp: {},\n    project: {}, // 项目信息\n    isChildInit: false, // 预览项目是否初始化成功\n  }))\n  .views((self: any) => ({\n    get rootCode() {\n      return self.codeTree;\n    },\n  }))\n  .actions((self: any) => ({\n    setProject(info: any) {\n      self.project = info;\n    },\n    setCodeTree(code: any) {\n      self.codeTree = code;\n    },\n    setIsDragging(bool: boolean) {\n      self.isDragging = bool;\n    },\n    refresh() {\n      self.refreshId += 1;\n    },\n    refreshRight() {\n      self.rightRefreshId += 1;\n    },\n    setSelectId(id: string) {\n      self.selectId = id;\n      self.updateSelectedComp();\n    },\n    updateSelectedComp() {\n      dfs(self.codeTree, (curField: FieldNodeSchema) => {\n        if (curField.id === self.selectId) {\n          self.setSelectedComp(curField);\n          return false;\n        }\n        return true;\n      });\n    },\n    setSelectedComp(comp: any) {\n      self.selectedComp = comp;\n    },\n    setIframeRef(ref: { current: any }) {\n      self.iframeRef = ref;\n    },\n    updateSelected({ key, value }: { key: string; value: any }) {\n      dfs(self.codeTree, (curField: FieldNodeSchema) => {\n        if (curField.id === self.selectId) {\n          curField.props[key] = value;\n          self.setSelectedComp({ ...curField });\n          return false;\n        }\n        return true;\n      });\n\n      self.postMessageIframe();\n    },\n    removeCom(parentId: string, hoverIndex: number) {\n      dfs(self.codeTree, (curField: FieldNodeSchema) => {\n        if (curField.id === parentId) {\n          curField.children.splice(hoverIndex, 1);\n\n          return false;\n        }\n        return true;\n      });\n\n      self.postMessageIframe();\n    },\n    postMessageIframe() {\n      (self.iframeRef.current as any)?.contentWindow.postMessage(\n        {\n          even: \"updateCodeTree\",\n          params: self.codeTree,\n        },\n        \"*\"\n      );\n    },\n\n    initIframe() {\n      if (self.codeTree.children.length && self.isChildInit) {\n        this.postMessageIframe();\n      }\n    },\n\n    getChildMessage(e: any) {\n      const { data = {} } = e;\n      const { type } = data;\n      switch (type) {\n        case \"preview-init-success\":\n          self.isChildInit = true;\n          syncStorageWithChild(); // 同步token给子应用\n          self.initIframe();\n          break;\n        default:\n          break;\n      }\n    },\n    afterCreate() {\n      // console.log(\"EditStore afterCreate\");\n    },\n    beforeDestroy() {\n      // console.log(\"EditStore beforeDestroy\");\n    },\n  }));\n","export const CARD = \"CARD\";\n","import { FieldNode } from \"../../schema/types\";\nimport { useDrag } from \"react-dnd\";\nimport { CARD } from \"../../ItemTypes\";\nimport cl from \"classnames\";\nimport { inject, observer } from \"mobx-react\";\n\ninterface Props {\n  data: FieldNode;\n  edit?: any;\n}\n\nfunction DragItem(props: Props) {\n  const { data, edit } = props;\n  const { setIsDragging } = edit;\n\n  const [{ isDragging }, dragRef] = useDrag(() => {\n    return {\n      type: CARD,\n      item: { data },\n      collect: (monitor) => {\n        const isDragging = monitor.isDragging();\n        setIsDragging(isDragging);\n        return {\n          isDragging,\n        };\n      },\n      end() {\n        // console.log(\"end\");\n      },\n    };\n  });\n\n  return (\n    <div\n      ref={dragRef}\n      className={cl(\n        \"p-2 text-center text-gray-600 cursor-move hover:bg-gray-100  hover:text-gray-900\",\n        {\n          \"opacity-50\": isDragging,\n        }\n      )}\n    >\n      <div className=\"mb-2\">\n        <span className={`iconfont ${data.iconfont}`}></span>\n      </div>\n      <div>{data.name}</div>\n    </div>\n  );\n}\n\nexport default inject(\"edit\")(observer(DragItem));\n","import { Col, Row } from \"antd\";\nimport { FieldNode } from \"../../schema/types\";\nimport DragItem from \"./DragItem\";\n\ninterface Props {\n  data: FieldNode[];\n}\n\nfunction DragPanel(props: Props) {\n  const { data } = props;\n  return (\n    <div className=\"py-6 px-4\">\n      <Row gutter={15}>\n        {data.map((item) => (\n          <Col span={12} key={item.type}>\n            <DragItem data={item} />\n          </Col>\n        ))}\n      </Row>\n    </div>\n  );\n}\n\nexport default DragPanel;\n","import DragPanel from \"../../comp/Left/DragPanel\";\nimport { MenuType } from \"../types\";\nimport fields from \"remote/fields\";\nimport { FieldNode } from \"s-low-components\";\n\nconst menus: MenuType[] = [\n  {\n    key: \"base\",\n    panel: <DragPanel data={fields as FieldNode[]} />,\n  },\n];\n\nexport default menus;\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport menus from \"../../schema/fields\";\nimport { importRemote } from \"@module-federation/utilities\";\n\nfunction Left() {\n  const [remoteList, setRemoteList] = useState([]);\n\n  useEffect(() => {\n    // const app2Utils = importRemote({\n    //   url: \"http://localhost:4001\",\n    //   scope: \"lowTitle\",\n    //   module: \"./fields\",\n    // });\n    // app2Utils.then((res) => {\n    //   console.log(\"res\", res);\n    // });\n  }, []);\n\n  return (\n    <div style={{ width: 221 }}>\n      {menus.map((menu) => {\n        return <Fragment key={menu.key}>{menu.panel}</Fragment>;\n      })}\n    </div>\n  );\n}\n\nexport default Left;\n","import { Input } from \"antd\";\nimport React, { ReactElement } from \"react\";\n\ninterface Props {\n  onChange: (value: string) => void;\n  value: any;\n}\nfunction InputCustom({ onChange, value }: Props): ReactElement {\n  return <Input value={value} onChange={(e) => onChange(e.target.value)} />;\n}\n\nexport default InputCustom;\n","import InputCustom from \"./comps/Input\";\n\nexport const Fields = {\n  Input: InputCustom,\n  title: \"\",\n};\n","import editData from \"remote/edit\";\nimport { EditFieldType } from \"s-low-components\";\n\nconst data = {\n  ...(editData as EditFieldType),\n};\n\nexport default data;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapLabel\":\"EditTitle_wrapLabel__3a7FK\"};","import React, { FC } from \"react\";\nimport styles from \"./index.module.scss\";\n\ninterface Props {\n  name?: string;\n}\n\nconst EditTitle: FC<Props> = ({ name }) => {\n  return (\n    <div className={styles.wrapLabel}>\n      <span>{name}</span>\n    </div>\n  );\n};\n\nexport default EditTitle;\n","import { inject, observer } from \"mobx-react\";\nimport { Suspense, useEffect } from \"react\";\nimport { editKey, Field } from \"../../schema/types\";\nimport { Fields } from \"./fields\";\nimport editField from \"../../schema/edit\";\nimport EditTitle from \"@/components/EditTitle\";\n// import \"antd/dist/antd.css\"; // TODO 因为组件仓库没有打包antd的css 所以这里全量引入\n\nfunction Right({ edit }: any) {\n  const { selectedComp, updateSelected, setCodeTree, setSelectId } = edit;\n\n  const { list = [], subLabelWidth = 70 } =\n    editField[selectedComp.type as editKey] || {};\n\n  useEffect(() => {\n    window.addEventListener(\"message\", setSelected);\n\n    return () => {\n      window.removeEventListener(\"message\", setSelected);\n    };\n  }, []);\n\n  const renderField = (item: Field) => {\n    const { key, name, type, ...other } = item;\n    const Comp = Fields[type] as any;\n    return (\n      <Comp\n        {...other}\n        value={selectedComp?.props[key]}\n        onChange={(value: any) => handlerChange(key, value)}\n      />\n    );\n  };\n\n  function setSelected(e: any) {\n    const { data = {} } = e;\n    const { type, params } = data;\n    if (params) {\n      switch (type) {\n        case \"updateCodeTree\":\n          setCodeTree(params);\n          break;\n        case \"selectId\":\n          setSelectId(params);\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  function handlerChange(key: string, value: string) {\n    updateSelected({\n      key,\n      value,\n    });\n  }\n\n  // 渲染编辑属性组件\n  function renderSetting(editSettingList: any[]) {\n    return editSettingList.map((item) => {\n      const { key, name, children, type, component: Com } = item;\n      switch (type) {\n        case \"title\":\n          return (\n            <div key={key}>\n              <EditTitle key={key} {...item} />\n              <div className=\"px-4 py-5\">\n                {Array.isArray(children) && renderSetting(children)}\n              </div>\n            </div>\n          );\n\n        case \"custom\":\n          return (\n            <div key={key} className=\"flex items-center mb-2\">\n              <div style={{ width: subLabelWidth }}>{name}</div>\n              <div className=\"ml-2 flex-1\">\n                {Com ? (\n                  <Com\n                    {...item}\n                    value={selectedComp?.props[key]}\n                    onChange={(value: any) => handlerChange(key, value)}\n                  />\n                ) : (\n                  renderField(item)\n                )}\n              </div>\n            </div>\n          );\n\n        default:\n          return (\n            <div key={key} className=\"flex items-center mb-2\">\n              <div style={{ width: subLabelWidth }}>{name}</div>\n              <div className=\"ml-2 flex-1\">{renderField(item)}</div>\n            </div>\n          );\n      }\n    });\n  }\n\n  return (\n    <div className=\"w-80 overflow-y-scroll\">\n      <div className=\"h-6 leading-6 text-center font-medium border-b py-4\">\n        属性设置\n      </div>\n      <Suspense>\n        <div className=\"text-xs\">\n          {selectedComp.type && renderSetting(list)}\n        </div>\n      </Suspense>\n    </div>\n  );\n}\n\nexport default inject(\"edit\")(observer(Right));\n","// extracted by mini-css-extract-plugin\nexport default {\"ctn\":\"PhoneContainer_ctn__vOgrZ\",\"ctnHead\":\"PhoneContainer_ctnHead__331WG\",\"ctnBody\":\"PhoneContainer_ctnBody__TscrG\",\"ctnHeightTag\":\"PhoneContainer_ctnHeightTag__TcAD-\"};","import React from \"react\";\nimport styles from \"./index.module.scss\";\n\nfunction PhoneContainer({ children }: any) {\n  return (\n    <div className={styles.ctn}>\n      <div className={styles.ctnHead}></div>\n      <div className={styles.ctnBody}>{children}</div>\n      <div className={styles.ctnHeightTag}>\n        <span>iPhone 8手机高度</span>\n      </div>\n    </div>\n  );\n}\n\nexport default PhoneContainer;\n","// extracted by mini-css-extract-plugin\nexport default {\"phoneBody\":\"CenterCanvasIframe_phoneBody__rxKNn\",\"iframe\":\"CenterCanvasIframe_iframe__Z2MvK\",\"pageLayer\":\"CenterCanvasIframe_pageLayer__1mCOC\"};","// extracted by mini-css-extract-plugin\nexport default {\"floatTab\":\"FloatTab_floatTab__d7sG6\"};","import React, { FC } from \"react\";\nimport styles from \"./index.module.scss\";\nimport cs from \"classnames\";\n\ninterface Props {\n  name: string;\n  isSelected: boolean;\n  onDelete(): void;\n}\n\nconst FloatTab: FC<Props> = ({ name, isSelected, onDelete }) => {\n  return (\n    <div className={cs(\"absolute\", styles.floatTab)}>\n      {isSelected ? (\n        <span\n          onClick={onDelete}\n          className=\"iconfont slow-shanchusekuai cursor-pointer text-gray-400 hover:text-gray-500\n\"\n        ></span>\n      ) : (\n        <span>{name}</span>\n      )}\n    </div>\n  );\n};\n\nexport default FloatTab;\n","import { inject, observer } from \"mobx-react\";\nimport React, { FC } from \"react\";\nimport FloatTab from \"./comp/FloatTab\";\nimport styles from \"./index.module.scss\";\n\ninterface Props {\n  drop: any;\n}\n\nconst PageLayer: FC<Props> = ({ edit, drop }: any) => {\n  const { isDragging, codeTree, selectId, removeCom } = edit;\n  // 中间预览的组件列表\n  const { children: compChildren = [] } = codeTree;\n\n  return (\n    <div\n      ref={drop}\n      className={styles.pageLayer}\n      style={{ zIndex: isDragging ? 20 : 1 }}\n    >\n      {compChildren.map((comp: any, index: number) => (\n        <div\n          className=\"relative\"\n          key={comp.id}\n          style={{ height: comp.height || 0 }}\n        >\n          <FloatTab\n            isSelected={selectId === comp.id}\n            name={comp.name}\n            onDelete={() => removeCom(codeTree.id, index)}\n          />\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default inject(\"edit\")(observer(PageLayer));\n","/* eslint-disable jsx-a11y/iframe-has-title */\nimport PhoneContainer from \"@/components/PhoneContainer\";\nimport { previewIframeId } from \"@/constants\";\nimport { inject, observer } from \"mobx-react\";\nimport React, { useEffect, useRef } from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport { FieldNodeSchema } from \"../../index.store\";\nimport { CARD } from \"../../ItemTypes\";\n// import CustomDragLayer from \"../CenterCanvas/CustomDragLayer\";\nimport styles from \"./index.module.scss\";\nimport PageLayer from \"./PageLayer\";\n\nfunction CenterCanvasIframe(props: any) {\n  const { edit } = props;\n  const { setIframeRef } = edit;\n\n  const iframeRef = useRef(null);\n\n  useEffect(() => {\n    setIframeRef(iframeRef);\n  }, []);\n\n  const [{ isOver, canDrop, item }, drop] = useDrop(() => ({\n    accept: CARD,\n    drop: (\n      item: { data: FieldNodeSchema; index?: number; parentId?: string },\n      monitor\n    ) => {\n      const didDrop = monitor.didDrop(); // returns false for direct drop target\n      if (didDrop) return;\n\n      (iframeRef.current as any).contentWindow.postMessage(\n        {\n          even: \"move\",\n          params: item,\n        },\n        \"*\"\n      );\n\n      return {};\n    },\n    collect: (monitor) => ({\n      isOver: monitor.isOver({\n        shallow: true,\n      }),\n      canDrop: monitor.canDrop(),\n      item: monitor.getItem(),\n    }),\n  }));\n\n  return (\n    <div className=\"flex-1 p-4 overflow-y-scroll bg-indigo-50\">\n      <PhoneContainer>\n        <div className={styles.phoneBody}>\n          <iframe\n            ref={iframeRef}\n            src={process.env.REACT_APP_PREVIEW_CHILD_URL}\n            className={styles.iframe}\n            id={previewIframeId}\n          />\n          {/* 拖拽和iframe交互蒙层 */}\n          <PageLayer drop={drop} />\n        </div>\n      </PhoneContainer>\n    </div>\n  );\n}\n\nexport default inject(\"edit\")(observer(CenterCanvasIframe));\n","import { inject, observer } from \"mobx-react\";\nimport { FC } from \"react\";\nimport { ArrowLeftOutlined } from \"@ant-design/icons\";\nimport { useNavigate } from \"react-router-dom\";\n\ninterface HeaderLeftProps {}\n\nconst HeaderLeft: FC<HeaderLeftProps> = (props: any) => {\n  const { edit } = props;\n  const { project } = edit;\n  const navigate = useNavigate();\n\n  function goBack() {\n    navigate(-1);\n  }\n\n  return (\n    <div className=\"inline-flex justify-between items-center h-full pl-6\">\n      <ArrowLeftOutlined className=\"cursor-pointer color\" onClick={goBack} />\n      <span className=\"ml-2\">{project?.name}</span>\n    </div>\n  );\n};\n\nexport default inject(\"edit\")(observer(HeaderLeft));\n","import { Button } from \"antd\";\nimport { inject, observer } from \"mobx-react\";\nimport { FC } from \"react\";\n\nconst OpenLine: FC = ({ edit }: any) => {\n  const { id } = edit.project;\n  function open() {\n    window.open(`${process.env.REACT_APP_PREVIEW_CHILD_URL}/preview/${id}`);\n  }\n  return <Button onClick={open}>在线地址</Button>;\n};\n\nexport default inject(\"edit\")(observer(OpenLine));\n","// extracted by mini-css-extract-plugin\nexport default {\"iframe\":\"Preview_iframe__nUsLI\",\"box\":\"Preview_box__3rAT0\"};","/* eslint-disable jsx-a11y/iframe-has-title */\nimport { inject, observer } from \"mobx-react\";\nimport React, { useRef } from \"react\";\nimport styles from \"./index.module.scss\";\n\nfunction IframeHtml({ edit }: any) {\n  const { project } = edit;\n  const { id } = project;\n  const iframeRef = useRef(null);\n\n  return (\n    <iframe\n      ref={iframeRef}\n      src={`${process.env.REACT_APP_PREVIEW_CHILD_URL}/preview/${id}`}\n      className={styles.iframe}\n    />\n  );\n}\n\nexport default inject(\"edit\")(observer(IframeHtml));\n","import React, { useState } from \"react\";\nimport { Button, Modal } from \"antd\";\nimport IframeHtml from \"./IframeHtml\";\nimport styles from \"./index.module.scss\";\nimport cs from \"classnames\";\n\ninterface Props {\n  className?: string;\n}\n\nfunction PreviewHtml(props: Props) {\n  const { className } = props;\n  const [visible, setVisible] = useState<any>();\n\n  function show() {\n    setVisible(true);\n  }\n\n  return (\n    <div className={className}>\n      <Button type=\"primary\" onClick={show}>\n        预览\n      </Button>\n      <Modal\n        width={423}\n        open={visible}\n        destroyOnClose\n        onCancel={() => setVisible(false)}\n        footer={null}\n      >\n        <div className={cs(styles.box, \"mt-10\")}>\n          <IframeHtml />\n        </div>\n      </Modal>\n    </div>\n  );\n}\n\nexport default PreviewHtml;\n","import { updateProjectCode } from \"@/services/project\";\nimport { Button, notification } from \"antd\";\nimport { inject, observer } from \"mobx-react\";\nimport { FC } from \"react\";\n\nconst Save: FC = ({ edit }: any) => {\n  const { codeTree, project } = edit;\n\n  function onSave() {\n    updateProjectCode({\n      ...project,\n      code: JSON.stringify(codeTree.children),\n    }).then(() => {\n      notification.success({ message: \"保存成功\" });\n    });\n  }\n\n  return (\n    <Button type=\"primary\" onClick={onSave}>\n      保存\n    </Button>\n  );\n};\n\nexport default inject(\"edit\")(observer(Save));\n","import { isArray, isString, map } from \"lodash-es\";\nimport { State } from \"../../../../index.store\";\n\nconst getChildrenCode = (sub: State) => {\n  if (isString(sub.props.children)) {\n    return sub.props.children;\n  }\n  return \"\";\n};\n\nexport const generateCode = (state: State) => {\n  let module: Record<string, string[]> = {};\n\n  function render(sub: State): string {\n    if (sub.module) {\n      if (module[sub.module] && module[sub.module].indexOf(sub.type) === -1) {\n        module[sub.module] = [...module[sub.module], sub.type];\n      }\n      if (!module[sub.module]) {\n        module[sub.module] = [sub.type];\n      }\n    }\n\n    let props = \"\";\n    if (sub.props) {\n      Object.keys(sub.props).forEach((key) => {\n        if (key !== \"children\" && sub.props[key]) {\n          const value = isArray(sub.props[key])\n            ? `{${JSON.stringify(sub.props[key])}}`\n            : `'${sub.props[key]}'`;\n\n          props = `${props} ${key}=${value}`;\n        }\n      });\n    }\n\n    const children =\n      sub.children && sub.children.length > 0\n        ? map(sub.children, render).join(\"\")\n        : getChildrenCode(sub);\n    if (children) {\n      return `<${sub.type || \"\"}${props}>\n        ${children}\n      </${sub.type || \"\"}>`;\n    } else {\n      return `<${sub.type || \"div\"}${props} />`;\n    }\n  }\n\n  const code = render(state);\n\n  let moduleCode = \"\";\n  Object.keys(module).forEach((m) => {\n    moduleCode += `import {${module[m].join(\",\")}} from '${m}';`;\n  });\n\n  return `import React from 'react';\n  ${moduleCode}\n\n  function App() {\n      return (\n          ${code}\n      );\n  }\n\n  export default App;`;\n};\n","import React, { useEffect, useState } from \"react\";\nimport AceEditor from \"react-ace\";\nimport { inject, observer } from \"mobx-react\";\n\nimport \"ace-builds/src-noconflict/mode-javascript\";\nimport \"ace-builds/src-noconflict/theme-monokai\";\nimport \"ace-builds/src-noconflict/ext-language_tools\";\nimport { generateCode } from \"./generateCode\";\n\nconst myWorker = new Worker(\"/worker.js\");\n\nfunction CodeDetail(props: any) {\n  const { edit } = props;\n\n  const [code, setCode] = useState(\"\");\n\n  useEffect(() => {\n    myWorker.onmessage = function (e) {\n      setCode(e.data);\n    };\n  }, []);\n\n  useEffect(() => {\n    const code = generateCode(edit.codeTree);\n    myWorker.postMessage(code);\n  }, [edit.codeTree]);\n\n  return (\n    <div>\n      <AceEditor\n        style={{ width: \"100%\" }}\n        mode=\"javascript\"\n        theme=\"monokai\"\n        name=\"code\"\n        height=\"560px\"\n        fontSize={16}\n        editorProps={{ $blockScrolling: true }}\n        value={code}\n        readOnly\n      />\n    </div>\n  );\n}\n\nexport default inject(\"edit\")(observer(CodeDetail));\n","import React, { useState } from \"react\";\nimport { Button, Modal } from \"antd\";\nimport CodeDetail from \"./CodeDetail\";\n\nfunction ShowCode() {\n  const [visible, setVisible] = useState<any>();\n\n  function show() {\n    setVisible(true);\n  }\n  return (\n    <div>\n      <Button onClick={show}>Code</Button>\n      <Modal\n        title=\"代码预览\"\n        width={800}\n        open={visible}\n        destroyOnClose\n        onCancel={() => setVisible(false)}\n        footer={null}\n      >\n        <CodeDetail />\n      </Modal>\n    </div>\n  );\n}\n\nexport default ShowCode;\n","import { Space } from \"antd\";\nimport { FC } from \"react\";\nimport OpenLine from \"./OpenLine\";\nimport PreviewHtml from \"./Preview\";\nimport Save from \"./Save\";\nimport ShowCode from \"./ShowCode\";\n\ninterface HeaderRightProps {}\n\nconst HeaderRight: FC<HeaderRightProps> = () => {\n  return (\n    <div className=\"inline-flex justify-between items-center\">\n      <Space>\n        {/* 实时预览 */}\n        <PreviewHtml />\n        {/* 展示代码 */}\n        <ShowCode />\n        {/* 保存 */}\n        <Save />\n        {/* 打开在线地址 */}\n        <OpenLine />\n      </Space>\n    </div>\n  );\n};\n\nexport default HeaderRight;\n","import { FC } from \"react\";\nimport HeaderLeft from \"./HeaderLeft\";\nimport HeaderRight from \"./HeaderRight\";\n\ninterface EditorHeaderProps {}\n\nconst EditorHeader: FC<EditorHeaderProps> = () => {\n  return (\n    <header className=\"h-10 pr-3 shadow-sm sticky border-b border-gray-200 flex-shrink-0  flex justify-between items-center\">\n      <HeaderLeft />\n      <HeaderRight />\n    </header>\n  );\n};\n\nexport default EditorHeader;\n","import { Provider } from \"mobx-react\";\nimport { EditStore } from \"./index.store\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport { DndProvider } from \"react-dnd\";\nimport Left from \"./comp/Left\";\nimport Right from \"./comp/Right\";\nimport CenterCanvasIframe from \"./comp/CenterCanvasIframe\";\nimport { useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { getProject } from \"@/services/project\";\nimport EditorHeader from \"./comp/EditorHeader\";\n\nconst editStore = EditStore.create();\n\nfunction Editor() {\n  const { id } = useParams();\n\n  useEffect(() => {\n    window.addEventListener(\"message\", editStore.getChildMessage);\n\n    return () => {\n      window.removeEventListener(\"message\", editStore.getChildMessage);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (id) {\n      getProject(id).then((res: any) => {\n        const { codeTree, setProject, setCodeTree, initIframe } = editStore;\n        setProject(res);\n        (codeTree as any).children = JSON.parse(res.code || \"[]\");\n        setCodeTree({ ...codeTree });\n        initIframe();\n      });\n    }\n  }, [id]);\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <Provider edit={editStore}>\n        <div className=\"flex flex-1 overflow-hidden flex-col text-gray-600 bg-white\">\n          <EditorHeader />\n\n          <main className=\"flex-1 overflow-hidden flex\">\n            <Left />\n            <CenterCanvasIframe />\n            <Right />\n          </main>\n        </div>\n      </Provider>\n    </DndProvider>\n  );\n}\n\nexport default Editor;\n","import $axios from \"./$axios\";\nimport {\n  DELETE_PROJECT_DTO,\n  GET_PROJECT_DTO,\n  PROJECT_CODE_DTO,\n  PROJECT_DTO,\n} from \"./types/project\";\n\nexport function getProjectList(params: GET_PROJECT_DTO[\"PARAMS\"]) {\n  return $axios.get(\"/project\", { params });\n}\n\nexport function getProject(id: string | number) {\n  return $axios.get(`/project/${id}`);\n}\n\nexport function createProject(\n  data: PROJECT_DTO[\"PARAMS\"]\n): Promise<PROJECT_DTO[\"RESPONSE\"]> {\n  return $axios.post(\"/project\", data);\n}\n\nexport function updateProject(\n  data: PROJECT_DTO[\"PARAMS\"]\n): Promise<PROJECT_DTO[\"RESPONSE\"]> {\n  return $axios.patch(`/project/${data.id}`, data);\n}\n\nexport function updateProjectCode(\n  data: PROJECT_CODE_DTO[\"PARAMS\"]\n): Promise<PROJECT_CODE_DTO[\"RESPONSE\"]> {\n  return $axios.patch(`/project/code/${data.id}`, data);\n}\n\nexport function deleteProject(data: DELETE_PROJECT_DTO[\"PARAMS\"]) {\n  return $axios.delete(`/project/${data.id}`);\n}\n"],"names":["dfs","data","fn","Array","isArray","children","i","length","initialValue","id","props","type","EditStore","types","model","refreshId","optional","number","rightRefreshId","volatile","codeTree","selectId","isDragging","iframeRef","current","selectedComp","project","isChildInit","views","self","rootCode","actions","setProject","info","setCodeTree","code","setIsDragging","bool","refresh","refreshRight","setSelectId","updateSelectedComp","curField","setSelectedComp","comp","setIframeRef","ref","updateSelected","_ref","key","value","_objectSpread","postMessageIframe","removeCom","parentId","hoverIndex","splice","_self$iframeRef$curre","contentWindow","postMessage","even","params","initIframe","this","getChildMessage","e","_e$data","syncStorageWithChild","afterCreate","beforeDestroy","CARD","inject","observer","edit","_useDrag","useDrag","item","collect","monitor","end","_useDrag2","_slicedToArray","dragRef","_jsxs","className","cl","_jsx","concat","iconfont","name","Row","gutter","map","Col","span","DragItem","panel","DragPanel","fields","_useState","useState","_useState2","useEffect","style","width","menus","menu","Fragment","Fields","Input","onChange","target","title","editData","styles","_ref2","editField","_ref2$list","list","_ref2$subLabelWidth","subLabelWidth","window","addEventListener","setSelected","removeEventListener","renderField","other","_objectWithoutProperties","_excluded","Comp","handlerChange","Suspense","renderSetting","editSettingList","Com","component","EditTitle","isSelected","onDelete","cs","onClick","drop","_codeTree$children","compChildren","zIndex","index","height","FloatTab","useRef","_useDrop","useDrop","accept","didDrop","isOver","shallow","canDrop","getItem","_useDrop2","_useDrop2$","PhoneContainer","src","process","previewIframeId","PageLayer","navigate","useNavigate","ArrowLeftOutlined","Button","open","visible","setVisible","Modal","destroyOnClose","onCancel","footer","IframeHtml","updateProjectCode","JSON","stringify","then","notification","success","message","generateCode","state","module","render","sub","indexOf","_toConsumableArray","Object","keys","forEach","join","isString","getChildrenCode","moduleCode","m","myWorker","Worker","setCode","onmessage","AceEditor","mode","theme","fontSize","editorProps","$blockScrolling","readOnly","CodeDetail","Space","PreviewHtml","ShowCode","Save","OpenLine","HeaderLeft","HeaderRight","editStore","create","useParams","getProject","res","parse","DndProvider","backend","HTML5Backend","Provider","EditorHeader","Left","CenterCanvasIframe","Right","getProjectList","$axios","get","createProject","post","updateProject","patch"],"sourceRoot":""}